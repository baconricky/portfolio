var a;
function browserdetect(){var b=navigator.userAgent.toLowerCase();if(this.isIE=b.indexOf("msie")>-1){this.ieVer=/msie\s(\d\.\d)/.exec(b)[1];this.quirksMode=!document.compatMode||document.compatMode.indexOf("BackCompat")>-1;this.get_style=function(c,f){if(!(f in c.currentStyle))return"";var d=/^([\d.]+)(\w*)/.exec(c.currentStyle[f]);if(!d)return c.currentStyle[f];if(d[1]==0)return"0";if(d[2]&&d[2]!=="px"){f=c.style.left;var g=c.runtimeStyle.left;c.runtimeStyle.left=c.currentStyle.left;c.style.left=d[1]+
d[2];d[0]=c.style.pixelLeft;c.style.left=f;c.runtimeStyle.left=g}return d[0]};this.supportsCorners=false}else{this.ieVer=this.quirksMode=0;this.get_style=function(c,f){f=f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return document.defaultView.getComputedStyle(c,"").getPropertyValue(f)};this.isSafari=b.indexOf("safari")!=-1;this.isWebKit=b.indexOf("webkit")!=-1;if(this.isOp="opera"in window)this.supportsCorners=(this.isOp=window.opera.version())>=10.5;else{if(!this.isWebkit)if(!(this.isMoz=b.indexOf("firefox")!==
-1))for(b=document.childNodes.length;--b>=0;)if("style"in document.childNodes[b]){this.isMoz="MozBorderRadius"in document.childNodes[b];break}this.supportsCorners=this.isWebKit||this.isMoz}}}var curvyBrowser=new browserdetect;if(curvyBrowser.isIE)try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}function curvyCnrSpec(b){this.selectorText=b;this.tlR=this.trR=this.blR=this.brR=0;this.tlu=this.tru=this.blu=this.bru="";this.antiAlias=true}a=curvyCnrSpec.prototype;
a.setcorner=function(b,c,f,d){if(b){propname=b.charAt(0)+c.charAt(0);this[propname+"R"]=parseInt(f);this[propname+"u"]=d}else{this.tlR=this.trR=this.blR=this.brR=parseInt(f);this.tlu=this.tru=this.blu=this.bru=d}};
a.get=function(b){if(/^(t|b)(l|r)(R|u)$/.test(b))return this[b];if(/^(t|b)(l|r)Ru$/.test(b)){b=b.charAt(0)+b.charAt(1);return this[b+"R"]+this[b+"u"]}if(/^(t|b)Ru?$/.test(b)){var c=b.charAt(0);c+=this[c+"lR"]>this[c+"rR"]?"l":"r";c=this[c+"R"];if(b.length===3&&b.charAt(2)==="u")c+=this.u;return c}throw new Error("Don't recognize property "+b);};a.radiusdiff=function(b){if(b!=="t"&&b!=="b")throw new Error("Param must be 't' or 'b'");return Math.abs(this[b+"lR"]-this[b+"rR"])};
a.setfrom=function(b){this.tlu=this.tru=this.blu=this.bru="px";if("tl"in b)this.tlR=b.tl.radius;if("tr"in b)this.trR=b.tr.radius;if("bl"in b)this.blR=b.bl.radius;if("br"in b)this.brR=b.br.radius;if("antiAlias"in b)this.antiAlias=b.antiAlias};
a.cloneOn=function(b){var c=["tl","tr","bl","br"],f=0,d,g;for(d in c)if(!isNaN(d)){g=this[c[d]+"u"];if(g!==""&&g!=="px"){f=new curvyCnrSpec;break}}if(f){var h,j,i=curvyBrowser.get_style(b,"left");for(d in c)if(!isNaN(d)){h=c[d];g=this[h+"u"];j=this[h+"R"];if(g!=="px"){i=b.style.left;b.style.left=j+g;j=b.style.pixelLeft;b.style.left=i}f[h+"R"]=j;f[h+"u"]="px"}b.style.left=i}else f=this;return f};
a.radiusSum=function(b){if(b!=="t"&&b!=="b")throw new Error("Param must be 't' or 'b'");return this[b+"lR"]+this[b+"rR"]};a.radiusCount=function(b){var c=0;this[b+"lR"]&&++c;this[b+"rR"]&&++c;return c};a.cornerNames=function(){var b=[];this.tlR&&b.push("tl");this.trR&&b.push("tr");this.blR&&b.push("bl");this.brR&&b.push("br");return b};
function operasheet(b){b=document.styleSheets.item(b).ownerNode.text;b=b.replace(/\/\*(\n|\r|.)*?\*\//g,"");var c=new RegExp("^\\s*([\\w.#][-\\w.#, ]+)[\\n\\s]*\\{([^}]+border-((top|bottom)-(left|right)-)?radius[^}]*)\\}","mg"),f;for(this.rules=[];(f=c.exec(b))!==null;){for(var d=new RegExp("(..)border-((top|bottom)-(left|right)-)?radius:\\s*([\\d.]+)(in|em|px|ex|pt)","g"),g,h=new curvyCnrSpec(f[1]);(g=d.exec(f[2]))!==null;)g[1]!=="z-"&&h.setcorner(g[3],g[4],g[5],g[6]);this.rules.push(h)}}
operasheet.contains_border_radius=function(b){return/border-((top|bottom)-(left|right)-)?radius/.test(document.styleSheets.item(b).ownerNode.text)};
function curvyCorners(){var b,c,f,d,g;if(typeof arguments[0]!=="object")throw curvyCorners.newError("First parameter of curvyCorners() must be an object.");if(arguments[0]instanceof curvyCnrSpec){d=arguments[0];if(!d.selectorText&&typeof arguments[1]==="string")d.selectorText=arguments[1]}else{if(typeof arguments[1]!=="object"&&typeof arguments[1]!=="string")throw curvyCorners.newError("Second parameter of curvyCorners() must be an object or a class name.");c=arguments[1];if(typeof c!=="string")c=
"";if(c!==""&&c.charAt(0)!=="."&&"autoPad"in arguments[0])c="."+c;d=new curvyCnrSpec(c);d.setfrom(arguments[0])}if(d.selectorText){g=0;var h=d.selectorText.replace(/\s+$/,"").split(/,\s*/);f=[];for(b=0;b<h.length;++b){if((c=h[b].lastIndexOf("#"))!==-1)h[b]=h[b].substr(c);f=f.concat(curvyCorners.getElementsBySelector(h[b].split(/\s+/)))}}else{g=1;f=arguments}b=g;for(c=f.length;b<c;++b){g=f[b];h=false;if(g.className)(h=g.className.indexOf("curvyIgnore1")!==-1)||(g.className+=" curvyIgnore1");else g.className=
"curvyIgnore";if(!h){if(g.className.indexOf("curvyRedraw")!==-1){if(typeof curvyCorners.redrawList==="undefined")curvyCorners.redrawList=[];curvyCorners.redrawList.push({node:g,spec:d,copy:g.cloneNode(false)})}(new curvyObject(d,g)).applyCorners()}}}curvyCorners.prototype.applyCornersToAll=function(){throw curvyCorners.newError("This function is now redundant. Just call curvyCorners(). See documentation.");};
curvyCorners.redraw=function(){if(!curvyBrowser.supportsCorners){if(!curvyCorners.redrawList)throw curvyCorners.newError("curvyCorners.redraw() has nothing to redraw.");var b=curvyCorners.block_redraw;curvyCorners.block_redraw=true;for(var c in curvyCorners.redrawList)if(!isNaN(c)){var f=curvyCorners.redrawList[c];if(f.node.clientWidth){for(var d=f.copy.cloneNode(false),g=f.node.firstChild;g!=null;g=g.nextSibling)if(g.className==="autoPadDiv")break;if(!g){curvyCorners.alert("Couldn't find autoPad DIV");
break}f.node.parentNode.replaceChild(d,f.node);for(var h=g.getElementsByTagName("script"),j=h.length-1;j>=0;--j)h[j].parentNode.removeChild(h[j]);for(;g.firstChild;)d.appendChild(g.removeChild(g.firstChild));f=new curvyObject(f.spec,f.node=d);f.applyCorners()}}curvyCorners.block_redraw=b}};
curvyCorners.adjust=function(b,c,f){if(!curvyBrowser.supportsCorners){if(!curvyCorners.redrawList)throw curvyCorners.newError("curvyCorners.adjust() has nothing to adjust.");var d,g=curvyCorners.redrawList.length;for(d=0;d<g;++d)if(curvyCorners.redrawList[d].node===b)break;if(d===g)throw curvyCorners.newError("Object not redrawable");b=curvyCorners.redrawList[d].copy}if(c.indexOf(".")===-1)b[c]=f;else eval("obj."+c+"='"+f+"'")};curvyCorners.handleWinResize=function(){curvyCorners.block_redraw||curvyCorners.redraw()};
curvyCorners.setWinResize=function(b){curvyCorners.block_redraw=!b};curvyCorners.newError=function(b){return new Error("curvyCorners Error:\n"+b)};curvyCorners.alert=function(b){if(typeof curvyCornersVerbose==="undefined"||curvyCornersVerbose)alert(b)};
function curvyObject(b,c){var f;this.box=c;this.settings=b;this.topContainer=this.bottomContainer=this.shell=f=null;c=this.box.clientWidth;if("canHaveChildren"in this.box&&!this.box.canHaveChildren||this.box.tagName==="TABLE")throw new Error(this.errmsg("You cannot apply corners to "+this.box.tagName+" elements.","Error"));if(!c&&curvyBrowser.isIE){this.box.style.zoom=1;c=this.box.clientWidth}if(!c&&curvyBrowser.get_style(this.box,"display")==="inline"){this.box.style.display="inline-block";curvyCorners.alert(this.errmsg("Converting inline element to inline-block",
"warning"));c=this.box.clientWidth}if(!c){if(!this.box.parentNode)throw this.newError("box has no parent!");for(f=this.box;;f=f.parentNode){if(!f||f.tagName==="BODY"){this.applyCorners=function(){};curvyCorners.alert(this.errmsg("zero-width box with no accountable parent","warning"));return}if(curvyBrowser.get_style(f,"display")==="none")break}var d=f.style.display;f.style.display="block";c=this.box.clientWidth}if(c){if(b instanceof curvyCnrSpec)this.spec=b.cloneOn(this.box);else{this.spec=new curvyCnrSpec("");
this.spec.setfrom(this.settings)}var g=curvyBrowser.get_style(this.box,"borderTopWidth"),h=curvyBrowser.get_style(this.box,"borderBottomWidth"),j=curvyBrowser.get_style(this.box,"borderLeftWidth"),i=curvyBrowser.get_style(this.box,"borderRightWidth"),k=curvyBrowser.get_style(this.box,"borderTopColor"),m=curvyBrowser.get_style(this.box,"borderBottomColor"),n=curvyBrowser.get_style(this.box,"borderLeftColor"),v=curvyBrowser.get_style(this.box,"borderRightColor"),o=curvyBrowser.get_style(this.box,"borderTopStyle"),
U=curvyBrowser.get_style(this.box,"borderBottomStyle"),V=curvyBrowser.get_style(this.box,"borderLeftStyle"),W=curvyBrowser.get_style(this.box,"borderRightStyle");b=curvyBrowser.get_style(this.box,"backgroundColor");var Q=curvyBrowser.get_style(this.box,"backgroundImage"),N=curvyBrowser.get_style(this.box,"backgroundRepeat"),y,p;if(this.box.currentStyle&&this.box.currentStyle.backgroundPositionX){y=curvyBrowser.get_style(this.box,"backgroundPositionX");p=curvyBrowser.get_style(this.box,"backgroundPositionY")}else{y=
curvyBrowser.get_style(this.box,"backgroundPosition");y=y.split(" ");p=y.length===2?y[1]:0;y=y[0]}var D=curvyBrowser.get_style(this.box,"position"),M=curvyBrowser.get_style(this.box,"paddingTop"),X=curvyBrowser.get_style(this.box,"paddingBottom"),l=curvyBrowser.get_style(this.box,"paddingLeft"),t=curvyBrowser.get_style(this.box,"paddingRight");curvyBrowser.get_style(this.box,"border");var B=curvyBrowser.ieVer>7?curvyBrowser.get_style(this.box,"filter"):null,C=this.spec.get("tR"),G=this.spec.get("bR"),
E=function(q){if(typeof q==="number")return q;if(typeof q!=="string")throw new Error("unexpected styleToNPx type "+typeof q);var I=/^[-\d.]([a-z]+)$/.exec(q);if(I&&I[1]!="px")throw new Error("Unexpected unit "+I[1]);if(isNaN(q=parseInt(q)))q=0;return q};try{this.borderWidth=E(g);this.borderWidthB=E(h);this.borderWidthL=E(j);this.borderWidthR=E(i);this.boxColour=curvyObject.format_colour(b);this.topPadding=E(M);this.bottomPadding=E(X);this.leftPadding=E(l);this.rightPadding=E(t);this.boxWidth=c;this.boxHeight=
this.box.clientHeight;this.borderColour=curvyObject.format_colour(k);this.borderColourB=curvyObject.format_colour(m);this.borderColourL=curvyObject.format_colour(n);this.borderColourR=curvyObject.format_colour(v);this.borderString=this.borderWidth+"px "+o+" "+this.borderColour;this.borderStringB=this.borderWidthB+"px "+U+" "+this.borderColourB;this.borderStringL=this.borderWidthL+"px "+V+" "+this.borderColourL;this.borderStringR=this.borderWidthR+"px "+W+" "+this.borderColourR;this.backgroundImage=
Q!="none"?Q:"";this.backgroundRepeat=N}catch(ca){throw this.newError(ca.message);}var P=this.boxHeight,O=c;if(curvyBrowser.isOp){y=E(y);p=E(p);if(y){c=O+this.borderWidthL+this.borderWidthR;if(y>c)y=c;y=c/y*100+"%"}if(p){c=P+this.borderWidth+this.borderWidthB;if(p>c)p=c;p=c/p*100+"%"}}if(!curvyBrowser.quirksMode){this.boxWidth-=this.leftPadding+this.rightPadding;this.boxHeight-=this.topPadding+this.bottomPadding}this.contentContainer=document.createElement("div");if(B)this.contentContainer.style.filter=
B;for(;this.box.firstChild;)this.contentContainer.appendChild(this.box.removeChild(this.box.firstChild));if(D!="absolute")this.box.style.position="relative";this.box.style.padding="0";this.box.style.border=this.box.style.backgroundImage="none";this.box.style.backgroundColor="transparent";this.box.style.width=O+this.borderWidthL+this.borderWidthR+"px";this.box.style.height=P+this.borderWidth+this.borderWidthB+"px";c=document.createElement("div");c.style.position="absolute";if(B)c.style.filter=B;c.style.width=
curvyBrowser.quirksMode?O+this.borderWidthL+this.borderWidthR+"px":O+"px";c.style.height=function(q){return q<=0?"0":q+"px"}(P+this.borderWidth+this.borderWidthB-C-G);c.style.padding="0";c.style.top=C+"px";c.style.left="0";if(this.borderWidthL)c.style.borderLeft=this.borderStringL;if(this.borderWidth&&!C)c.style.borderTop=this.borderString;if(this.borderWidthR)c.style.borderRight=this.borderStringR;if(this.borderWidthB&&!G)c.style.borderBottom=this.borderStringB;c.style.backgroundColor=b;c.style.backgroundImage=
this.backgroundImage;c.style.backgroundRepeat=this.backgroundRepeat;c.style.direction="ltr";this.shell=this.box.appendChild(c);c=curvyBrowser.get_style(this.shell,"width");if(c===""||c==="auto"||c.indexOf("%")!==-1)throw this.newError("Shell width is "+c);this.boxWidth=c!=""&&c!="auto"&&c.indexOf("%")==-1?parseInt(c):this.shell.clientWidth;this.applyCorners=function(){this.backgroundPosX=this.backgroundPosY=0;if(this.backgroundObject){var q=function(R,aa,ba){if(R===0)return 0;if(R==="right"||R===
"bottom")return ba-aa;if(R==="center")return(ba-aa)/2;if(R.indexOf("%")>0)return(ba-aa)*100/parseInt(R);return E(R)};this.backgroundPosX=q(y,this.backgroundObject.width,O);this.backgroundPosY=q(p,this.backgroundObject.height,P)}else if(this.backgroundImage){this.backgroundPosX=E(y);this.backgroundPosY=E(p)}if(C){q=document.createElement("div");q.style.width=this.boxWidth+"px";q.style.fontSize="1px";q.style.overflow="hidden";q.style.position="absolute";q.style.paddingLeft=this.borderWidth+"px";q.style.paddingRight=
this.borderWidth+"px";q.style.height=C+"px";q.style.top=-C+"px";q.style.left=-this.borderWidthL+"px";this.topContainer=this.shell.appendChild(q)}if(G){q=document.createElement("div");q.style.width=this.boxWidth+"px";q.style.fontSize="1px";q.style.overflow="hidden";q.style.position="absolute";q.style.paddingLeft=this.borderWidthB+"px";q.style.paddingRight=this.borderWidthB+"px";q.style.height=G+"px";q.style.bottom=-G+"px";q.style.left=-this.borderWidthL+"px";this.bottomContainer=this.shell.appendChild(q)}q=
this.spec.cornerNames();for(var I in q)if(!isNaN(I)){var K=q[I],A=this.spec[K+"R"],w,J,L,F;if(K=="tr"||K=="tl"){w=this.borderWidth;J=this.borderColour;F=this.borderWidth}else{w=this.borderWidthB;J=this.borderColourB;F=this.borderWidthB}L=A-F;w=document.createElement("div");w.style.height=this.spec.get(K+"Ru");w.style.width=this.spec.get(K+"Ru");w.style.position="absolute";w.style.fontSize="1px";w.style.overflow="hidden";var x,u,S,H=B?parseInt(/alpha\(opacity.(\d+)\)/.exec(B)[1]):100;for(x=0;x<A;++x){var T=
x+1>=L?-1:Math.floor(Math.sqrt(Math.pow(L,2)-Math.pow(x+1,2)))-1;if(L!=A)var r=x>=L?-1:Math.ceil(Math.sqrt(Math.pow(L,2)-Math.pow(x,2))),Y=x+1>=A?-1:Math.floor(Math.sqrt(Math.pow(A,2)-Math.pow(x+1,2)))-1;var Z=x>=A?-1:Math.ceil(Math.sqrt(Math.pow(A,2)-Math.pow(x,2)));T>-1&&this.drawPixel(x,0,this.boxColour,H,T+1,w,true,A);if(L!=A)if(this.spec.antiAlias){for(u=T+1;u<r;++u)if(this.backgroundImage!=""){S=curvyObject.pixelFraction(x,u,L)*100;this.drawPixel(x,u,J,H,1,w,S>=30,A)}else if(this.boxColour!==
"transparent"){S=curvyObject.BlendColour(this.boxColour,J,curvyObject.pixelFraction(x,u,L));this.drawPixel(x,u,S,H,1,w,false,A)}else this.drawPixel(x,u,J,H>>1,1,w,false,A);if(Y>=r){if(r==-1)r=0;this.drawPixel(x,r,J,H,Y-r+1,w,false,0)}S=J;u=Y}else Y>T&&this.drawPixel(x,T+1,J,H,Y-T,w,false,0);else{S=this.boxColour;u=T}if(this.spec.antiAlias&&this.boxColour!=="transparent")for(;++u<Z;)this.drawPixel(x,u,S,curvyObject.pixelFraction(x,u,A)*H,1,w,F<=0,A)}J=0;for(L=w.childNodes.length;J<L;++J){F=w.childNodes[J];
x=parseInt(F.style.top);H=parseInt(F.style.left);Z=parseInt(F.style.height);if(K=="tl"||K=="bl")F.style.left=A-H-1+"px";if(K=="tr"||K=="tl")F.style.top=A-Z-x+"px";F.style.backgroundRepeat=this.backgroundRepeat;if(this.backgroundImage)switch(K){case "tr":F.style.backgroundPosition=this.backgroundPosX-this.borderWidthL+A-O-H+"px "+(this.backgroundPosY+Z+x+this.borderWidth-A)+"px";break;case "tl":F.style.backgroundPosition=this.backgroundPosX-A+H+1+this.borderWidthL+"px "+(this.backgroundPosY-A+Z+x+
this.borderWidth)+"px";break;case "bl":F.style.backgroundPosition=this.backgroundPosX-A+H+1+this.borderWidthL+"px "+(this.backgroundPosY-P-this.borderWidth+(curvyBrowser.quirksMode?x:-x)+A)+"px";break;case "br":F.style.backgroundPosition=curvyBrowser.quirksMode?this.backgroundPosX-this.borderWidthL-O+A-H+"px "+(this.backgroundPosY-P-this.borderWidth+x+A)+"px":this.backgroundPosX-this.borderWidthL-O+A-H+"px "+(this.backgroundPosY-P-this.borderWidth+A-x)+"px"}}switch(K){case "tl":w.style.top=w.style.left=
"0";this.topContainer.appendChild(w);break;case "tr":w.style.top=w.style.right="0";this.topContainer.appendChild(w);break;case "bl":w.style.bottom=w.style.left="0";this.bottomContainer.appendChild(w);break;case "br":w.style.bottom=w.style.right="0";this.bottomContainer.appendChild(w)}}I={t:this.spec.radiusdiff("t"),b:this.spec.radiusdiff("b")};for(z in I)if(typeof z!=="function")if(this.spec.get(z+"R")){if(I[z]){u=this.spec[z+"lR"]<this.spec[z+"rR"]?z+"l":z+"r";r=document.createElement("div");r.style.height=
I[z]+"px";r.style.width=this.spec.get(u+"Ru");r.style.position="absolute";r.style.fontSize="1px";r.style.overflow="hidden";r.style.backgroundColor=this.boxColour;if(B)r.style.filter=B;r.style.backgroundImage=this.backgroundImage;r.style.backgroundRepeat=this.backgroundRepeat;switch(u){case "tl":r.style.bottom=r.style.left="0";r.style.borderLeft=this.borderStringL;r.style.backgroundPosition=this.backgroundPosX+"px "+(this.borderWidth+this.backgroundPosY-this.spec.tlR)+"px";this.topContainer.appendChild(r);
break;case "tr":r.style.bottom=r.style.right="0";r.style.borderRight=this.borderStringR;r.style.backgroundPosition=this.backgroundPosX-this.boxWidth+this.spec.trR+"px "+(this.borderWidth+this.backgroundPosY-this.spec.trR)+"px";this.topContainer.appendChild(r);break;case "bl":r.style.top=r.style.left="0";r.style.borderLeft=this.borderStringL;r.style.backgroundPosition=this.backgroundPosX+"px "+(this.backgroundPosY-this.borderWidth-this.boxHeight+I[z]+this.spec.blR)+"px";this.bottomContainer.appendChild(r);
break;case "br":r.style.top=r.style.right="0";r.style.borderRight=this.borderStringR;r.style.backgroundPosition=this.borderWidthL+this.backgroundPosX-this.boxWidth+this.spec.brR+"px "+(this.backgroundPosY-this.borderWidth-this.boxHeight+I[z]+this.spec.brR)+"px";this.bottomContainer.appendChild(r)}}u=document.createElement("div");if(B)u.style.filter=B;u.style.position="relative";u.style.fontSize="1px";u.style.overflow="hidden";u.style.width=this.fillerWidth(z);u.style.backgroundColor=this.boxColour;
u.style.backgroundImage=this.backgroundImage;u.style.backgroundRepeat=this.backgroundRepeat;switch(z){case "t":if(this.topContainer){u.style.height=curvyBrowser.quirksMode?100+C+"px":100+C-this.borderWidth+"px";u.style.marginLeft=this.spec.tlR?this.spec.tlR-this.borderWidthL+"px":"0";u.style.borderTop=this.borderString;if(this.backgroundImage){r=this.spec.tlR?this.borderWidthL+this.backgroundPosX-this.spec.tlR+"px ":this.backgroundPosX+"px ";u.style.backgroundPosition=r+this.backgroundPosY+"px";this.shell.style.backgroundPosition=
this.backgroundPosX+"px "+(this.backgroundPosY-C+this.borderWidthL)+"px"}this.topContainer.appendChild(u)}break;case "b":if(this.bottomContainer){u.style.height=curvyBrowser.quirksMode?G+"px":G-this.borderWidthB+"px";u.style.marginLeft=this.spec.blR?this.spec.blR-this.borderWidthL+"px":"0";u.style.borderBottom=this.borderStringB;if(this.backgroundImage){r=this.spec.blR?this.backgroundPosX+this.borderWidthL-this.spec.blR+"px ":this.backgroundPosX+"px ";u.style.backgroundPosition=r+(this.backgroundPosY-
P-this.borderWidth+G)+"px"}this.bottomContainer.appendChild(u)}}}this.contentContainer.style.position="absolute";this.contentContainer.className="autoPadDiv";this.contentContainer.style.left=this.borderWidthL+"px";this.contentContainer.style.paddingTop=this.topPadding+"px";this.contentContainer.style.top=this.borderWidth+"px";this.contentContainer.style.paddingLeft=this.leftPadding+"px";this.contentContainer.style.paddingRight=this.rightPadding+"px";z=O;curvyBrowser.quirksMode||(z-=this.leftPadding+
this.rightPadding);this.contentContainer.style.width=z+"px";this.contentContainer.style.textAlign=curvyBrowser.get_style(this.box,"textAlign");this.box.style.textAlign="left";this.box.appendChild(this.contentContainer);if(f)f.style.display=d};if(this.backgroundImage){y=this.backgroundCheck(y);p=this.backgroundCheck(p);if(this.backgroundObject){this.backgroundObject.holdingElement=this;this.dispatch=this.applyCorners;this.applyCorners=function(){if(this.backgroundObject.complete)this.dispatch();else this.backgroundObject.onload=
new Function("curvyObject.dispatch(this.holdingElement);")}}}}else{curvyCorners.alert(this.errmsg("zero-width box, cannot display","error"));this.applyCorners=function(){}}}curvyObject.prototype.backgroundCheck=function(b){if(b==="top"||b==="left"||parseInt(b)===0)return 0;if(!/^[-\d.]+px$/.test(b)&&!this.backgroundObject){this.backgroundObject=new Image;this.backgroundObject.src=function(c){var f=/url\("?([^'"]+)"?\)/.exec(c);return f?f[1]:c}(this.backgroundImage)}return b};
curvyObject.dispatch=function(b){if("dispatch"in b)b.dispatch();else throw b.newError("No dispatch function");};
curvyObject.prototype.drawPixel=function(b,c,f,d,g,h,j,i){var k=document.createElement("div");k.style.height=g+"px";k.style.width="1px";k.style.position="absolute";k.style.fontSize="1px";k.style.overflow="hidden";g=this.spec.get("tR");k.style.backgroundColor=f;if(j&&this.backgroundImage!=""){k.style.backgroundImage=this.backgroundImage;k.style.backgroundPosition="-"+(this.boxWidth-(i-b)+this.borderWidth)+"px -"+(this.boxHeight+g+c-this.borderWidth)+"px"}d!=100&&curvyObject.setOpacity(k,d);k.style.top=
c+"px";k.style.left=b+"px";h.appendChild(k)};curvyObject.prototype.fillerWidth=function(b){var c;c=curvyBrowser.quirksMode?0:this.spec.radiusCount(b)*this.borderWidthL;if((b=this.boxWidth-this.spec.radiusSum(b)+c)<0)throw this.newError("Radius exceeds box width");return b+"px"};
curvyObject.prototype.errmsg=function(b,c){var f="\ntag: "+this.box.tagName;if(this.box.id)f+="\nid: "+this.box.id;if(this.box.className)f+="\nclass: "+this.box.className;var d;if((d=this.box.parentNode)===null)f+="\n(box has no parent)";else{f+="\nParent tag: "+d.tagName;if(d.id)f+="\nParent ID: "+d.id;if(d.className)f+="\nParent class: "+d.className}if(c===undefined)c="warning";return"curvyObject "+c+":\n"+b+f};curvyObject.prototype.newError=function(b){return new Error(this.errmsg(b,"exception"))};
curvyObject.IntToHex=function(b){var c=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];return c[b>>>4]+""+c[b&15]};
curvyObject.BlendColour=function(b,c,f){if(b==="transparent"||c==="transparent")throw this.newError("Cannot blend with transparent");if(b.charAt(0)!=="#")b=curvyObject.format_colour(b);if(c.charAt(0)!=="#")c=curvyObject.format_colour(c);var d=parseInt(b.substr(1,2),16),g=parseInt(b.substr(3,2),16);b=parseInt(b.substr(5,2),16);var h=parseInt(c.substr(1,2),16),j=parseInt(c.substr(3,2),16);c=parseInt(c.substr(5,2),16);if(f>1||f<0)f=1;d=Math.round(d*f+h*(1-f));if(d>255)d=255;if(d<0)d=0;g=Math.round(g*
f+j*(1-f));if(g>255)g=255;if(g<0)g=0;f=Math.round(b*f+c*(1-f));if(f>255)f=255;if(f<0)f=0;return"#"+curvyObject.IntToHex(d)+curvyObject.IntToHex(g)+curvyObject.IntToHex(f)};
curvyObject.pixelFraction=function(b,c,f){f=f*f;var d=new Array(2),g=new Array(2),h=0,j="",i=Math.sqrt(f-Math.pow(b,2));if(i>=c&&i<c+1){j="Left";d[h]=0;g[h]=i-c;++h}i=Math.sqrt(f-Math.pow(c+1,2));if(i>=b&&i<b+1){j+="Top";d[h]=i-b;g[h]=1;++h}i=Math.sqrt(f-Math.pow(b+1,2));if(i>=c&&i<c+1){j+="Right";d[h]=1;g[h]=i-c;++h}i=Math.sqrt(f-Math.pow(c,2));if(i>=b&&i<b+1){j+="Bottom";d[h]=i-b;g[h]=0}switch(j){case "LeftRight":b=Math.min(g[0],g[1])+(Math.max(g[0],g[1])-Math.min(g[0],g[1]))/2;break;case "TopRight":b=
1-(1-d[0])*(1-g[1])/2;break;case "TopBottom":b=Math.min(d[0],d[1])+(Math.max(d[0],d[1])-Math.min(d[0],d[1]))/2;break;case "LeftBottom":b=g[0]*d[1]/2;break;default:b=1}return b};curvyObject.rgb2Array=function(b){return b.substring(4,b.indexOf(")")).split(", ")};
curvyObject.rgb2Hex=function(b){try{var c=curvyObject.rgb2Array(b),f=parseInt(c[0]),d=parseInt(c[1]),g=parseInt(c[2]),h="#"+curvyObject.IntToHex(f)+curvyObject.IntToHex(d)+curvyObject.IntToHex(g)}catch(j){b="getMessage"in j?j.getMessage():j.message;throw new Error("Error ("+b+") converting RGB value to Hex in rgb2Hex");}return h};
curvyObject.setOpacity=function(b,c){c=c==100?99.999:c;if(curvyBrowser.isSafari&&b.tagName!="IFRAME"){var f=curvyObject.rgb2Array(b.style.backgroundColor),d=parseInt(f[0]),g=parseInt(f[1]);f=parseInt(f[2]);b.style.backgroundColor="rgba("+d+", "+g+", "+f+", "+c/100+")"}else if(typeof b.style.opacity!=="undefined")b.style.opacity=c/100;else if(typeof b.style.MozOpacity!=="undefined")b.style.MozOpacity=c/100;else if(typeof b.style.filter!=="undefined")b.style.filter="alpha(opacity="+c+")";else if(typeof b.style.KHTMLOpacity!==
"undefined")b.style.KHTMLOpacity=c/100};curvyCorners.addEvent=function(b,c,f,d){if(b.addEventListener){b.addEventListener(c,f,d);return true}if(b.attachEvent)return b.attachEvent("on"+c,f);b["on"+c]=f;return false};if(typeof addEvent==="undefined")addEvent=curvyCorners.addEvent;
curvyObject.getComputedColour=function(b){var c=document.createElement("DIV");c.style.backgroundColor=b;document.body.appendChild(c);if(window.getComputedStyle){b=document.defaultView.getComputedStyle(c,null).getPropertyValue("background-color");c.parentNode.removeChild(c);if(b.substr(0,3)==="rgb")b=curvyObject.rgb2Hex(b);return b}else{var f=document.body.createTextRange();f.moveToElementText(c);f.execCommand("ForeColor",false,b);b=f.queryCommandValue("ForeColor");b="rgb("+(b&255)+", "+((b&65280)>>
8)+", "+((b&16711680)>>16)+")";c.parentNode.removeChild(c);return curvyObject.rgb2Hex(b)}};curvyObject.format_colour=function(b){if(b!=""&&b!="transparent")if(b.substr(0,3)==="rgb")b=curvyObject.rgb2Hex(b);else if(b.charAt(0)!=="#")b=curvyObject.getComputedColour(b);else if(b.length===4)b="#"+b.charAt(1)+b.charAt(1)+b.charAt(2)+b.charAt(2)+b.charAt(3)+b.charAt(3);return b};
curvyCorners.getElementsByClass=function(b,c){var f=[];if(c===undefined)c=document;b=b.split(".");var d="*";if(b.length===1){d=b[0];b=false}else{if(b[0])d=b[0];b=b[1]}if(d.charAt(0)==="#")(c=document.getElementById(d.substr(1)))&&f.push(c);else{c=c.getElementsByTagName(d);d=c.length;if(b){var g=new RegExp("(^|\\s)"+b+"(\\s|$)");for(b=0;b<d;++b)g.test(c[b].className)&&f.push(c[b])}else for(b=0;b<d;++b)f.push(c[b])}return f};
curvyCorners.getElementsBySelector=function(b,c){var f=b[0];if(c===undefined)c=document;c=f.indexOf("#")!==-1?[c.getElementById(f.substr(1))]:curvyCorners.getElementsByClass(f,c);if(b.length>1){f=[];for(var d=c.length;--d>=0;)f=f.concat(curvyCorners.getElementsBySelector(b.slice(1),c[d]));c=f}return c};
if(curvyBrowser.supportsCorners){var curvyCornersNoAutoScan=true;curvyCorners.init=function(){}}else{curvyCorners.scanStyles=function(){function b(j){if(!parseInt(j))return"px";return/^[\d.]+(\w+)$/.exec(j)[1]}var c,f,d;if(curvyBrowser.isIE){function g(j){var i=j.style;if(curvyBrowser.ieVer>6){var k=i["-moz-border-radius"]||0,m=i["-moz-border-radius-topright"]||0,n=i["-moz-border-radius-topleft"]||0,v=i["-moz-border-radius-bottomright"]||0;i=i["-moz-border-radius-bottomleft"]||0}else{k=i["moz-border-radius"]||
0;m=i["moz-border-radius-topright"]||0;n=i["moz-border-radius-topleft"]||0;v=i["moz-border-radius-bottomright"]||0;i=i["moz-border-radius-bottomleft"]||0}if(k){var o=k.split("/");o=o[0].split(/\s+/);o[o.length-1]===""&&o.pop();switch(o.length){case 3:n=o[0];m=i=o[1];v=o[2];k=false;break;case 2:n=v=o[0];m=i=o[1];k=false;case 1:break;case 4:n=o[0];m=o[1];v=o[2];i=o[3];k=false;break;default:curvyCorners.alert("Illegal corners specification: "+k)}}if(k||n||m||v||i){j=new curvyCnrSpec(j.selectorText);
if(k)j.setcorner(null,null,parseInt(k),b(k));else{m&&j.setcorner("t","r",parseInt(m),b(m));n&&j.setcorner("t","l",parseInt(n),b(n));i&&j.setcorner("b","l",parseInt(i),b(i));v&&j.setcorner("b","r",parseInt(v),b(v))}curvyCorners(j)}}for(c=0;c<document.styleSheets.length;++c)try{if(document.styleSheets[c].imports)for(f=0;f<document.styleSheets[c].imports.length;++f)for(d=0;d<document.styleSheets[c].imports[f].rules.length;++d)g(document.styleSheets[c].imports[f].rules[d]);for(f=0;f<document.styleSheets[c].rules.length;++f)g(document.styleSheets[c].rules[f])}catch(h){typeof curvyCornersVerbose!==
"undefined"&&curvyCornersVerbose&&alert(h.message+" - ignored")}}else if(curvyBrowser.isOp)for(c=0;c<document.styleSheets.length;++c){if(operasheet.contains_border_radius(c)){d=new operasheet(c);for(f in d.rules)isNaN(f)||curvyCorners(d.rules[f])}}else curvyCorners.alert("Scanstyles does nothing in Webkit/Firefox/Opera")};curvyCorners.init=function(){if(!arguments.callee.done){arguments.callee.done=true;if(curvyBrowser.isWebKit&&curvyCorners.init.timer){clearInterval(curvyCorners.init.timer);curvyCorners.init.timer=
null}curvyCorners.scanStyles()}}}if(typeof curvyCornersNoAutoScan==="undefined"||curvyCornersNoAutoScan===false)curvyBrowser.isOp?document.addEventListener("DOMContentLoaded",curvyCorners.init,false):curvyCorners.addEvent(window,"load",curvyCorners.init,false);function suckerfish(b,c,f){window.attachEvent&&window.attachEvent("onload",function(){var d=f==null?document.getElementsByTagName(c):document.getElementById(f).getElementsByTagName(c);b(d)})}sfHover=function(b){for(var c=0;c<b.length;c++){b[c].onmouseover=function(){this.className+=" sfhover"};b[c].onmouseout=function(){this.className=this.className.replace(/ sfhover\b/,"")}}};
sfFocus=function(b){for(var c=0;c<b.length;c++){b[c].onfocus=function(){this.className+=" sffocus"};b[c].onblur=function(){this.className=this.className.replace(/ sffocus\b/,"")}}};sfActive=function(b){for(var c=0;c<b.length;c++){b[c].onmousedown=function(){this.className+=" sfactive"};b[c].onmouseup=function(){this.className=this.className.replace(/ sfactive\b/,"")}}};
sfTarget=function(b){var c=document.getElementsByTagName("A");document.lastTarget=null;for(var f=0;f<b.length;f++)if(b[f].id){if(location.hash=="#"+b[f].id){b[f].className+=" sftarget";document.lastTarget=b[f]}for(var d=0;d<c.length;d++){if(c[d].hash=="#"+b[f].id)c[d].targetEl=b[f];c[d].onclick=function(){if(document.lastTarget)docu.lastTarget.className=document.lastTarget.className.replace(/ sftarget\b/,"");if(this.targetEl)this.targetEl.className+=" sftarget";document.lastTarget=this.targetEl;return true}}}};Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];Date.abbrDayNames=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];Date.abbrMonthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];Date.firstDayOfWeek=1;Date.format="dd/mm/yyyy";Date.fullYearStart="20";
(function(){function b(f,d){Date.prototype[f]||(Date.prototype[f]=d)}b("isLeapYear",function(){var f=this.getFullYear();return f%4==0&&f%100!=0||f%400==0});b("isWeekend",function(){return this.getDay()==0||this.getDay()==6});b("isWeekDay",function(){return!this.isWeekend()});b("getDaysInMonth",function(){return[31,this.isLeapYear()?29:28,31,30,31,30,31,31,30,31,30,31][this.getMonth()]});b("getDayName",function(f){return f?Date.abbrDayNames[this.getDay()]:Date.dayNames[this.getDay()]});b("getMonthName",
function(f){return f?Date.abbrMonthNames[this.getMonth()]:Date.monthNames[this.getMonth()]});b("getDayOfYear",function(){var f=new Date("1/1/"+this.getFullYear());return Math.floor((this.getTime()-f.getTime())/864E5)});b("getWeekOfYear",function(){return Math.ceil(this.getDayOfYear()/7)});b("setDayOfYear",function(f){this.setMonth(0);this.setDate(f);return this});b("addYears",function(f){this.setFullYear(this.getFullYear()+f);return this});b("addMonths",function(f){var d=this.getDate();this.setMonth(this.getMonth()+
f);d>this.getDate()&&this.addDays(-this.getDate());return this});b("addDays",function(f){this.setTime(this.getTime()+f*864E5);return this});b("addHours",function(f){this.setHours(this.getHours()+f);return this});b("addMinutes",function(f){this.setMinutes(this.getMinutes()+f);return this});b("addSeconds",function(f){this.setSeconds(this.getSeconds()+f);return this});b("zeroTime",function(){this.setMilliseconds(0);this.setSeconds(0);this.setMinutes(0);this.setHours(0);return this});b("asString",function(f){return(f||
Date.format).split("yyyy").join(this.getFullYear()).split("yy").join((this.getFullYear()+"").substring(2)).split("mmmm").join(this.getMonthName(false)).split("mmm").join(this.getMonthName(true)).split("mm").join(c(this.getMonth()+1)).split("dd").join(c(this.getDate())).split("hh").join(c(this.getHours())).split("min").join(c(this.getMinutes())).split("ss").join(c(this.getSeconds()))});Date.fromString=function(f,d){var g=d||Date.format;d=new Date("01/01/1977");var h=0,j=g.indexOf("mmmm");if(j>-1){for(var i=
0;i<Date.monthNames.length;i++){var k=f.substr(j,Date.monthNames[i].length);if(Date.monthNames[i]==k){h=Date.monthNames[i].length-4;break}}d.setMonth(i)}else{j=g.indexOf("mmm");if(j>-1){k=f.substr(j,3);for(i=0;i<Date.abbrMonthNames.length;i++)if(Date.abbrMonthNames[i]==k)break;d.setMonth(i)}else d.setMonth(Number(f.substr(g.indexOf("mm"),2))-1)}i=g.indexOf("yyyy");if(i>-1){if(j<i)i+=h;d.setFullYear(Number(f.substr(i,4)))}else d.setFullYear(Number(Date.fullYearStart+f.substr(g.indexOf("yy"),2)));g=
g.indexOf("dd");if(j<g)g+=h;d.setDate(Number(f.substr(g,2)));if(isNaN(d.getTime()))return false;return d};var c=function(f){f="0"+f;return f.substring(f.length-2)}})();(function(b){function c(g){this.ele=g;this.button=this.horizontalOffset=this.verticalOffset=this.horizontalPosition=this.verticalPosition=this.numSelected=this.numSelectable=this.selectMultiple=this.rememberViewedMonth=this.displayClose=this.closeOnSelect=this.showYearNavigation=this.endDate=this.startDate=this.displayedYear=this.displayedMonth=null;this.renderCallback=[];this.selectedDates={};this.inline=null;this.context="#dp-popup";this.settings={}}function f(g){if(g._dpId)return b.event._dpCache[g._dpId];
return false}b.fn.extend({renderCalendar:function(g){var h=function(D){return document.createElement(D)};g=b.extend({},b.fn.datePicker.defaults,g);if(g.showHeader!=b.dpConst.SHOW_HEADER_NONE)for(var j=b(h("tr")),i=Date.firstDayOfWeek;i<Date.firstDayOfWeek+7;i++){var k=i%7,m=Date.dayNames[k];j.append(jQuery(h("th")).attr({scope:"col",abbr:m,title:m,"class":k==0||k==6?"weekend":"weekday"}).html(g.showHeader==b.dpConst.SHOW_HEADER_SHORT?m.substr(0,1):m))}var n=b(h("table")).attr({cellspacing:2}).addClass("jCalendar").append(g.showHeader!=
b.dpConst.SHOW_HEADER_NONE?b(h("thead")).append(j):h("thead"));j=b(h("tbody"));k=(new Date).zeroTime();k.setHours(12);m=g.month==undefined?k.getMonth():g.month;var v=g.year||k.getFullYear(),o=new Date(v,m,1,12,0,0);i=Date.firstDayOfWeek-o.getDay()+1;if(i>1)i-=7;var U=Math.ceil((-1*i+1+o.getDaysInMonth())/7);o.addDays(i-1);for(var V=function(D){return function(){if(g.hoverClass){var M=b(this);if(g.selectWeek)D&&!M.is(".disabled")&&M.parent().addClass("activeWeekHover");else M.addClass(g.hoverClass)}}},
W=function(){if(g.hoverClass){var D=b(this);D.removeClass(g.hoverClass);D.parent().removeClass("activeWeekHover")}},Q=0;Q++<U;){var N=jQuery(h("tr")),y=g.dpController?o>g.dpController.startDate:false;for(i=0;i<7;i++){var p=o.getMonth()==m;p=b(h("td")).text(o.getDate()+"").addClass((p?"current-month ":"other-month ")+(o.isWeekend()?"weekend ":"weekday ")+(p&&o.getTime()==k.getTime()?"today ":"")).data("datePickerDate",o.asString()).hover(V(y),W);N.append(p);g.renderCallback&&g.renderCallback(p,o,m,
v);o=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1,12,0,0)}j.append(N)}n.append(j);return this.each(function(){b(this).empty().append(n)})},datePicker:function(g){if(!b.event._dpCache)b.event._dpCache=[];g=b.extend({},b.fn.datePicker.defaults,g);return this.each(function(){var h=b(this),j=true;if(!this._dpId){this._dpId=b.event.guid++;b.event._dpCache[this._dpId]=new c(this);j=false}if(g.inline){g.createButton=false;g.displayClose=false;g.closeOnSelect=false;h.empty()}var i=b.event._dpCache[this._dpId];
i.init(g);if(!j&&g.createButton){i.button=b('<a href="#" class="dp-choose-date" title="'+b.dpText.TEXT_CHOOSE_DATE+'">'+b.dpText.TEXT_CHOOSE_DATE+"</a>").bind("click",function(){h.dpDisplay(this);this.blur();return false});h.after(i.button)}if(!j&&h.is(":text")){h.bind("dateSelected",function(k,m){this.value=m.asString()}).bind("change",function(){if(this.value=="")i.clearSelected();else{var k=Date.fromString(this.value);k&&i.setSelected(k,true,true)}});g.clickInput&&h.bind("click",function(){h.trigger("change");
h.dpDisplay()});j=Date.fromString(this.value);this.value!=""&&j&&i.setSelected(j,true,true)}h.addClass("dp-applied")})},dpSetDisabled:function(g){return d.call(this,"setDisabled",g)},dpSetStartDate:function(g){return d.call(this,"setStartDate",g)},dpSetEndDate:function(g){return d.call(this,"setEndDate",g)},dpGetSelected:function(){var g=f(this[0]);if(g)return g.getSelected();return null},dpSetSelected:function(g,h,j,i){if(h==undefined)h=true;if(j==undefined)j=true;if(i==undefined)i=true;return d.call(this,
"setSelected",Date.fromString(g),h,j,i)},dpSetDisplayedMonth:function(g,h){return d.call(this,"setDisplayedMonth",Number(g),Number(h),true)},dpDisplay:function(g){return d.call(this,"display",g)},dpSetRenderCallback:function(g){return d.call(this,"setRenderCallback",g)},dpSetPosition:function(g,h){return d.call(this,"setPosition",g,h)},dpSetOffset:function(g,h){return d.call(this,"setOffset",g,h)},dpClose:function(){return d.call(this,"_closeCalendar",false,this[0])},dpRerenderCalendar:function(){return d.call(this,
"_rerenderCalendar")},_dpDestroy:function(){}});var d=function(g,h,j,i,k){return this.each(function(){var m=f(this);m&&m[g](h,j,i,k)})};b.extend(c.prototype,{init:function(g){this.setStartDate(g.startDate);this.setEndDate(g.endDate);this.setDisplayedMonth(Number(g.month),Number(g.year));this.setRenderCallback(g.renderCallback);this.showYearNavigation=g.showYearNavigation;this.closeOnSelect=g.closeOnSelect;this.displayClose=g.displayClose;this.rememberViewedMonth=g.rememberViewedMonth;this.numSelectable=
(this.selectMultiple=g.selectMultiple)?g.numSelectable:1;this.numSelected=0;this.verticalPosition=g.verticalPosition;this.horizontalPosition=g.horizontalPosition;this.hoverClass=g.hoverClass;this.setOffset(g.verticalOffset,g.horizontalOffset);this.inline=g.inline;this.settings=g;if(this.inline){this.context=this.ele;this.display()}},setStartDate:function(g){if(g)this.startDate=Date.fromString(g);if(!this.startDate)this.startDate=(new Date).zeroTime();this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},
setEndDate:function(g){if(g)this.endDate=Date.fromString(g);if(!this.endDate)this.endDate=new Date("12/31/2999");if(this.endDate.getTime()<this.startDate.getTime())this.endDate=this.startDate;this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setPosition:function(g,h){this.verticalPosition=g;this.horizontalPosition=h},setOffset:function(g,h){this.verticalOffset=parseInt(g)||0;this.horizontalOffset=parseInt(h)||0},setDisabled:function(g){$e=b(this.ele);$e[g?"addClass":"removeClass"]("dp-disabled");
if(this.button){$but=b(this.button);$but[g?"addClass":"removeClass"]("dp-disabled");$but.attr("title",g?"":b.dpText.TEXT_CHOOSE_DATE)}if($e.is(":text"))$e.attr("disabled",g?"disabled":"")},setDisplayedMonth:function(g,h,j){if(!(this.startDate==undefined||this.endDate==undefined)){var i=new Date(this.startDate.getTime());i.setDate(1);var k=new Date(this.endDate.getTime());k.setDate(1);if(!g&&!h||isNaN(g)&&isNaN(h)){g=(new Date).zeroTime();g.setDate(1)}else g=isNaN(g)?new Date(h,this.displayedMonth,
1):isNaN(h)?new Date(this.displayedYear,g,1):new Date(h,g,1);if(g.getTime()<i.getTime())g=i;else if(g.getTime()>k.getTime())g=k;i=this.displayedMonth;k=this.displayedYear;this.displayedMonth=g.getMonth();this.displayedYear=g.getFullYear();if(j&&(this.displayedMonth!=i||this.displayedYear!=k)){this._rerenderCalendar();b(this.ele).trigger("dpMonthChanged",[this.displayedMonth,this.displayedYear])}}},setSelected:function(g,h,j,i){if(!(g<this.startDate||g>this.endDate)){var k=this.settings;if(k.selectWeek){g=
g.addDays(-(g.getDay()-Date.firstDayOfWeek+7)%7);if(g<this.startDate)return}if(h!=this.isSelected(g)){if(this.selectMultiple==false)this.clearSelected();else if(h&&this.numSelected==this.numSelectable)return;if(j&&(this.displayedMonth!=g.getMonth()||this.displayedYear!=g.getFullYear()))this.setDisplayedMonth(g.getMonth(),g.getFullYear(),true);this.selectedDates[g.asString()]=h;this.numSelected+=h?1:-1;j="td."+(g.getMonth()==this.displayedMonth?"current-month":"other-month");var m;b(j,this.context).each(function(){if(b(this).data("datePickerDate")==
g.asString()){m=b(this);if(k.selectWeek)m.parent()[h?"addClass":"removeClass"]("selectedWeek");m[h?"addClass":"removeClass"]("selected")}});b("td",this.context).not(".selected")[this.selectMultiple&&this.numSelected==this.numSelectable?"addClass":"removeClass"]("unselectable");if(i){k=this.isSelected(g);$e=b(this.ele);i=Date.fromString(g.asString());$e.trigger("dateSelected",[i,m,k]);$e.trigger("change")}}}},isSelected:function(g){return this.selectedDates[g.asString()]},getSelected:function(){var g=
[];for(s in this.selectedDates)this.selectedDates[s]==true&&g.push(Date.fromString(s));return g},clearSelected:function(){this.selectedDates={};this.numSelected=0;b("td.selected",this.context).removeClass("selected").parent().removeClass("selectedWeek")},display:function(g){if(!b(this.ele).is(".dp-disabled")){g=g||this.ele;var h=this;g=b(g);var j=g.offset(),i,k,m;if(h.inline){i=b(this.ele);k={id:"calendar-"+this.ele._dpId,"class":"dp-popup dp-popup-inline"};b(".dp-popup",i).remove();m={}}else{i=b("body");
k={id:"dp-popup","class":"dp-popup"};m={top:j.top+h.verticalOffset,left:j.left+h.horizontalOffset};this._checkMouse=function(v){v=v.target;for(var o=b("#dp-popup")[0];;)if(v==o)return true;else if(v==document){h._closeCalendar();return false}else v=b(v).parent()[0]};h._closeCalendar(true);b(document).bind("keydown.datepicker",function(v){v.keyCode==27&&h._closeCalendar()})}if(!h.rememberViewedMonth){var n=this.getSelected()[0];if(n){n=new Date(n);this.setDisplayedMonth(n.getMonth(),n.getFullYear(),
false)}}i.append(b("<div></div>").attr(k).css(m).append(b("<h2></h2>"),b('<div class="dp-nav-prev"></div>').append(b('<a class="dp-nav-prev-year" href="#" title="'+b.dpText.TEXT_PREV_YEAR+'">&lt;&lt;</a>').bind("click",function(){return h._displayNewMonth.call(h,this,0,-1)}),b('<a class="dp-nav-prev-month" href="#" title="'+b.dpText.TEXT_PREV_MONTH+'">&lt;</a>').bind("click",function(){return h._displayNewMonth.call(h,this,-1,0)})),b('<div class="dp-nav-next"></div>').append(b('<a class="dp-nav-next-year" href="#" title="'+
b.dpText.TEXT_NEXT_YEAR+'">&gt;&gt;</a>').bind("click",function(){return h._displayNewMonth.call(h,this,0,1)}),b('<a class="dp-nav-next-month" href="#" title="'+b.dpText.TEXT_NEXT_MONTH+'">&gt;</a>').bind("click",function(){return h._displayNewMonth.call(h,this,1,0)})),b('<div class="dp-calendar"></div>')).bgIframe());i=this.inline?b(".dp-popup",this.context):b("#dp-popup");this.showYearNavigation==false&&b(".dp-nav-prev-year, .dp-nav-next-year",h.context).css("display","none");this.displayClose&&
i.append(b('<a href="#" id="dp-close">'+b.dpText.TEXT_CLOSE+"</a>").bind("click",function(){h._closeCalendar();return false}));h._renderCalendar();b(this.ele).trigger("dpDisplayed",i);if(!h.inline){this.verticalPosition==b.dpConst.POS_BOTTOM&&i.css("top",j.top+g.height()-i.height()+h.verticalOffset);this.horizontalPosition==b.dpConst.POS_RIGHT&&i.css("left",j.left+g.width()-i.width()+h.horizontalOffset);b(document).bind("mousedown.datepicker",this._checkMouse)}}},setRenderCallback:function(g){if(g!=
null){if(g&&typeof g=="function")g=[g];this.renderCallback=this.renderCallback.concat(g)}},cellRender:function(g,h){var j=this.dpController,i=new Date(h.getTime());g.bind("click",function(){var k=b(this);if(!k.is(".disabled")){j.setSelected(i,!k.is(".selected")||!j.selectMultiple,false,true);j.closeOnSelect&&j._closeCalendar();b.browser.msie||b(j.ele).trigger("focus",[b.dpConst.DP_INTERNAL_FOCUS])}});if(j.isSelected(i)){g.addClass("selected");j.settings.selectWeek&&g.parent().addClass("selectedWeek")}else j.selectMultiple&&
j.numSelected==j.numSelectable&&g.addClass("unselectable")},_applyRenderCallbacks:function(){var g=this;b("td",this.context).each(function(){for(var h=0;h<g.renderCallback.length;h++){$td=b(this);g.renderCallback[h].apply(this,[$td,Date.fromString($td.data("datePickerDate")),g.displayedMonth,g.displayedYear])}})},_displayNewMonth:function(g,h,j){b(g).is(".disabled")||this.setDisplayedMonth(this.displayedMonth+h,this.displayedYear+j,true);g.blur();return false},_rerenderCalendar:function(){this._clearCalendar();
this._renderCalendar()},_renderCalendar:function(){b("h2",this.context).html((new Date(this.displayedYear,this.displayedMonth,1)).asString(b.dpText.HEADER_FORMAT));b(".dp-calendar",this.context).renderCalendar(b.extend({},this.settings,{month:this.displayedMonth,year:this.displayedYear,renderCallback:this.cellRender,dpController:this,hoverClass:this.hoverClass}));if(this.displayedYear==this.startDate.getFullYear()&&this.displayedMonth==this.startDate.getMonth()){b(".dp-nav-prev-year",this.context).addClass("disabled");
b(".dp-nav-prev-month",this.context).addClass("disabled");b(".dp-calendar td.other-month",this.context).each(function(){var i=b(this);Number(i.text())>20&&i.addClass("disabled")});var g=this.startDate.getDate();b(".dp-calendar td.current-month",this.context).each(function(){var i=b(this);Number(i.text())<g&&i.addClass("disabled")})}else{b(".dp-nav-prev-year",this.context).removeClass("disabled");b(".dp-nav-prev-month",this.context).removeClass("disabled");g=this.startDate.getDate();if(g>20){var h=
this.startDate.getTime(),j=new Date(h);j.addMonths(1);this.displayedYear==j.getFullYear()&&this.displayedMonth==j.getMonth()&&b(".dp-calendar td.other-month",this.context).each(function(){var i=b(this);Date.fromString(i.data("datePickerDate")).getTime()<h&&i.addClass("disabled")})}}if(this.displayedYear==this.endDate.getFullYear()&&this.displayedMonth==this.endDate.getMonth()){b(".dp-nav-next-year",this.context).addClass("disabled");b(".dp-nav-next-month",this.context).addClass("disabled");b(".dp-calendar td.other-month",
this.context).each(function(){var i=b(this);Number(i.text())<14&&i.addClass("disabled")});g=this.endDate.getDate();b(".dp-calendar td.current-month",this.context).each(function(){var i=b(this);Number(i.text())>g&&i.addClass("disabled")})}else{b(".dp-nav-next-year",this.context).removeClass("disabled");b(".dp-nav-next-month",this.context).removeClass("disabled");g=this.endDate.getDate();if(g<13){j=new Date(this.endDate.getTime());j.addMonths(-1);this.displayedYear==j.getFullYear()&&this.displayedMonth==
j.getMonth()&&b(".dp-calendar td.other-month",this.context).each(function(){var i=b(this),k=Number(i.text());k<13&&k>g&&i.addClass("disabled")})}}this._applyRenderCallbacks()},_closeCalendar:function(g,h){if(!h||h==this.ele){b(document).unbind("mousedown.datepicker");b(document).unbind("keydown.datepicker");this._clearCalendar();b("#dp-popup a").unbind();b("#dp-popup").empty().remove();g||b(this.ele).trigger("dpClosed",[this.getSelected()])}},_clearCalendar:function(){b(".dp-calendar td",this.context).unbind();
b(".dp-calendar",this.context).empty()}});b.dpConst={SHOW_HEADER_NONE:0,SHOW_HEADER_SHORT:1,SHOW_HEADER_LONG:2,POS_TOP:0,POS_BOTTOM:1,POS_LEFT:0,POS_RIGHT:1,DP_INTERNAL_FOCUS:"dpInternalFocusTrigger"};b.dpText={TEXT_PREV_YEAR:"Previous year",TEXT_PREV_MONTH:"Previous month",TEXT_NEXT_YEAR:"Next year",TEXT_NEXT_MONTH:"Next month",TEXT_CLOSE:"Close",TEXT_CHOOSE_DATE:"Choose date",HEADER_FORMAT:"mmmm yyyy"};b.dpVersion="$Id: jquery.datePicker.js 94 2010-01-25 02:25:27Z kelvin.luck $";b.fn.datePicker.defaults=
{month:undefined,year:undefined,showHeader:b.dpConst.SHOW_HEADER_SHORT,startDate:undefined,endDate:undefined,inline:false,renderCallback:null,createButton:true,showYearNavigation:true,closeOnSelect:true,displayClose:false,selectMultiple:false,numSelectable:Number.MAX_VALUE,clickInput:false,rememberViewedMonth:true,selectWeek:false,verticalPosition:b.dpConst.POS_TOP,horizontalPosition:b.dpConst.POS_LEFT,verticalOffset:0,horizontalOffset:0,hoverClass:"dp-hover"};if(b.fn.bgIframe==undefined)b.fn.bgIframe=
function(){return this};b(window).bind("unload",function(){var g=b.event._dpCache||[];for(var h in g)b(g[h].ele)._dpDestroy()})})(jQuery);(function(b){b.fn.coolinput=function(c){var f={hint:null,source:"title",blurClass:"blur",iconClass:false,clearOnSubmit:true,clearOnFocus:true,persistent:false};if(c&&typeof c=="object")b.extend(f,c);else f.hint=c;return this.each(function(){function d(){h.val()==""&&h.val(j).addClass(i)}function g(){h.val()==j&&h.hasClass(i)&&h.val("").removeClass(i)}var h=b(this),j=f.hint||h.attr(f.source),i=f.blurClass;if(j){f.persistent&&h.blur(d);f.clearOnFocus&&h.focus(g);f.clearOnSubmit&&h.parents("form:first").submit(g);
f.iconClass&&h.addClass(f.iconClass);d()}})}})(jQuery);(function(b){var c=(b.browser.msie?"paste":"input")+".mask",f=window.orientation!=undefined;b.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"}};b.fn.extend({caret:function(d,g){if(this.length!=0)if(typeof d=="number"){g=typeof g=="number"?g:d;return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(d,g)}else if(this.createTextRange){var j=this.createTextRange();j.collapse(true);j.moveEnd("character",g);j.moveStart("character",d);j.select()}})}else{if(this[0].setSelectionRange){d=
this[0].selectionStart;g=this[0].selectionEnd}else if(document.selection&&document.selection.createRange){var h=document.selection.createRange();d=0-h.duplicate().moveStart("character",-100000);g=d+h.text.length}return{begin:d,end:g}}},unmask:function(){return this.trigger("unmask")},mask:function(d,g){if(!d&&this.length>0){var h=b(this[0]),j=h.data("tests");return b.map(h.data("buffer"),function(v,o){return j[o]?v:null}).join("")}g=b.extend({placeholder:"_",completed:null},g);var i=b.mask.definitions;
j=[];var k=d.length,m=null,n=d.length;b.each(d.split(""),function(v,o){if(o=="?"){n--;k=v}else if(i[o]){j.push(new RegExp(i[o]));if(m==null)m=j.length-1}else j.push(null)});return this.each(function(){function v(l){for(;++l<=n&&!j[l];);return l}function o(l){for(;!j[l]&&--l>=0;);for(var t=l;t<n;t++)if(j[t]){D[t]=g.placeholder;var B=v(t);if(B<n&&j[t].test(D[B]))D[t]=D[B];else break}N();p.caret(Math.max(m,l))}function U(l){l=l;for(var t=g.placeholder;l<n;l++)if(j[l]){var B=v(l),C=D[l];D[l]=t;if(B<n&&
j[B].test(C))t=C;else break}}function V(l){var t=b(this).caret();l=l.keyCode;M=l<16||l>16&&l<32||l>32&&l<41;if(t.begin-t.end!=0&&(!M||l==8||l==46))Q(t.begin,t.end);if(l==8||l==46||f&&l==127){o(t.begin+(l==46?0:-1));return false}else if(l==27){p.val(X);p.caret(0,y());return false}}function W(l){if(M){M=false;return l.keyCode==8?false:null}l=l||window.event;var t=l.charCode||l.keyCode||l.which,B=b(this).caret();if(l.ctrlKey||l.altKey||l.metaKey)return true;else if(t>=32&&t<=125||t>186){l=v(B.begin-
1);if(l<n){t=String.fromCharCode(t);if(j[l].test(t)){U(l);D[l]=t;N();t=v(l);b(this).caret(t);g.completed&&t==n&&g.completed.call(p)}}}return false}function Q(l,t){for(l=l;l<t&&l<n;l++)if(j[l])D[l]=g.placeholder}function N(){return p.val(D.join("")).val()}function y(l){for(var t=p.val(),B=-1,C=0,G=0;C<n;C++)if(j[C]){for(D[C]=g.placeholder;G++<t.length;){var E=t.charAt(G-1);if(j[C].test(E)){D[C]=E;B=C;break}}if(G>t.length)break}else if(D[C]==t[G]&&C!=k){G++;B=C}if(!l&&B+1<k){p.val("");Q(0,n)}else if(l||
B+1>=k){N();l||p.val(p.val().substring(0,B+1))}return k?C:m}var p=b(this),D=b.map(d.split(""),function(l){if(l!="?")return i[l]?g.placeholder:l}),M=false,X=p.val();p.data("buffer",D).data("tests",j);p.attr("readonly")||p.one("unmask",function(){p.unbind(".mask").removeData("buffer").removeData("tests")}).bind("focus.mask",function(){X=p.val();var l=y();N();setTimeout(function(){l==d.length?p.caret(0,l):p.caret(l)},0)}).bind("blur.mask",function(){y();p.val()!=X&&p.change()}).bind("keydown.mask",V).bind("keypress.mask",
W).bind(c,function(){setTimeout(function(){p.caret(y(true))},0)});y()})}})})(jQuery);(function(b){b.extend(b.fn,{validate:function(c){if(this.length){var f=b.data(this[0],"validator");if(f)return f;f=new b.validator(c,this[0]);b.data(this[0],"validator",f);if(f.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){f.cancelSubmit=true});f.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){f.submitButton=this});this.submit(function(d){function g(){if(f.settings.submitHandler){if(f.submitButton)var h=b("<input type='hidden'/>").attr("name",
f.submitButton.name).val(f.submitButton.value).appendTo(f.currentForm);f.settings.submitHandler.call(f,f.currentForm);f.submitButton&&h.remove();return false}return true}f.settings.debug&&d.preventDefault();if(f.cancelSubmit){f.cancelSubmit=false;return g()}if(f.form()){if(f.pendingRequest){f.formSubmitted=true;return false}return g()}else{f.focusInvalid();return false}})}return f}else c&&c.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(b(this[0]).is("form"))return this.validate().form();
else{var c=true,f=b(this[0].form).validate();this.each(function(){c&=f.element(this)});return c}},removeAttrs:function(c){var f={},d=this;b.each(c.split(/\s/),function(g,h){f[h]=d.attr(h);d.removeAttr(h)});return f},rules:function(c,f){var d=this[0];if(c){var g=b.data(d.form,"validator").settings,h=g.rules,j=b.validator.staticRules(d);switch(c){case "add":b.extend(j,b.validator.normalizeRule(f));h[d.name]=j;if(f.messages)g.messages[d.name]=b.extend(g.messages[d.name],f.messages);break;case "remove":if(!f){delete h[d.name];
return j}var i={};b.each(f.split(/\s/),function(k,m){i[m]=j[m];delete j[m]});return i}}c=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(d),b.validator.classRules(d),b.validator.attributeRules(d),b.validator.staticRules(d)),d);if(c.required){f=c.required;delete c.required;c=b.extend({required:f},c)}return c}});b.extend(b.expr[":"],{blank:function(c){return!b.trim(""+c.value)},filled:function(c){return!!b.trim(""+c.value)},unchecked:function(c){return!c.checked}});b.validator=function(c,
f){this.settings=b.extend({},b.validator.defaults,c);this.currentForm=f;this.init()};b.validator.format=function(c,f){if(arguments.length==1)return function(){var d=b.makeArray(arguments);d.unshift(c);return b.validator.format.apply(this,d)};if(arguments.length>2&&f.constructor!=Array)f=b.makeArray(arguments).slice(1);if(f.constructor!=Array)f=[f];b.each(f,function(d,g){c=c.replace(new RegExp("\\{"+d+"\\}","g"),g)});return c};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(c){this.lastActive=c;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,c,this.settings.errorClass,this.settings.validClass);this.errorsFor(c).hide()}},onfocusout:function(c){if(!this.checkable(c)&&(c.name in this.submitted||!this.optional(c)))this.element(c)},onkeyup:function(c){if(c.name in
this.submitted||c==this.lastElement)this.element(c)},onclick:function(c){if(c.name in this.submitted)this.element(c);else c.parentNode.name in this.submitted&&this.element(c.parentNode)},highlight:function(c,f,d){b(c).addClass(f).removeClass(d)},unhighlight:function(c,f,d){b(c).removeClass(f).addClass(d)}},setDefaults:function(c){b.extend(b.validator.defaults,c)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",
date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:b.validator.format("Please enter no more than {0} characters."),minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),
range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function c(g){var h=b.data(this[0].form,"validator");h.settings["on"+g.type]&&h.settings["on"+g.type].call(h,this[0])}this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||
b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var f=this.groups={};b.each(this.settings.groups,function(g,h){b.each(h.split(/\s/),function(j,i){f[i]=g})});var d=this.settings.rules;b.each(d,function(g,h){d[g]=b.validator.normalizeRule(h)});b(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",
c).delegate("click",":radio, :checkbox, select, option",c);this.settings.invalidHandler&&b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);this.valid()||b(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var c=0,f=this.currentElements=this.elements();f[c];c++)this.check(f[c]);
return this.valid()},element:function(c){this.lastElement=c=this.clean(c);this.prepareElement(c);this.currentElements=b(c);var f=this.check(c);if(f)delete this.invalid[c.name];else this.invalid[c.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return f},showErrors:function(c){if(c){b.extend(this.errorMap,c);this.errorList=[];for(var f in c)this.errorList.push({message:c[f],element:this.findByName(f)[0]});this.successList=b.grep(this.successList,
function(d){return!(d.name in c)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){b.fn.resetForm&&b(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(c){var f=0;for(var d in c)f++;return f},hideErrors:function(){this.addWrapper(this.toHide).hide()},
valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus()}catch(c){}},findLastActive:function(){var c=this.lastActive;return c&&b.grep(this.errorList,function(f){return f.element.name==c.name}).length==1&&c},elements:function(){var c=this,f={};return b([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
c.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in f||!c.objectLength(b(this).rules()))return false;return f[this.name]=true})},clean:function(c){return b(c)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(c){this.reset();this.toHide=this.errorsFor(c)},check:function(c){c=this.clean(c);if(this.checkable(c))c=this.findByName(c.name)[0];var f=b(c).rules(),d=false;for(method in f){var g={method:method,parameters:f[method]};try{var h=b.validator.methods[method].call(this,c.value.replace(/\r/g,""),c,g.parameters);if(h=="dependency-mismatch")d=true;else{d=false;if(h=="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!h){this.formatAndAdd(c,g);return false}}}catch(j){this.settings.debug&&
window.console&&console.log("exception occured when checking element "+c.id+", check the '"+g.method+"' method",j);throw j;}}if(!d){this.objectLength(f)&&this.successList.push(c);return true}},customMetaMessage:function(c,f){if(b.metadata)return(c=this.settings.meta?b(c).metadata()[this.settings.meta]:b(c).metadata())&&c.messages&&c.messages[f]},customMessage:function(c,f){return(c=this.settings.messages[c])&&(c.constructor==String?c:c[f])},findDefined:function(){for(var c=0;c<arguments.length;c++)if(arguments[c]!==
undefined)return arguments[c]},defaultMessage:function(c,f){return this.findDefined(this.customMessage(c.name,f),this.customMetaMessage(c,f),!this.settings.ignoreTitle&&c.title||undefined,b.validator.messages[f],"<strong>Warning: No message defined for "+c.name+"</strong>")},formatAndAdd:function(c,f){var d=this.defaultMessage(c,f.method),g=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,f.parameters,c);else if(g.test(d))d=jQuery.format(d.replace(g,"{$1}"),f.parameters);this.errorList.push({message:d,
element:c});this.errorMap[c.name]=d;this.submitted[c.name]=d},addWrapper:function(c){if(this.settings.wrapper)c=c.add(c.parent(this.settings.wrapper));return c},defaultShowErrors:function(){for(var c=0;this.errorList[c];c++){var f=this.errorList[c];this.settings.highlight&&this.settings.highlight.call(this,f.element,this.settings.errorClass,this.settings.validClass);this.showLabel(f.element,f.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(c=
0;this.successList[c];c++)this.showLabel(this.successList[c]);if(this.settings.unhighlight){c=0;for(f=this.validElements();f[c];c++)this.settings.unhighlight.call(this,f[c],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(c,
f){var d=this.errorsFor(c);if(d.length){d.removeClass().addClass(this.settings.errorClass);d.attr("generated")&&d.html(f)}else{d=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(c),generated:true}).addClass(this.settings.errorClass).html(f||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,b(c)):d.insertAfter(c))}if(!f&&this.settings.success){d.text("");
typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=this.toShow.add(d)},errorsFor:function(c){var f=this.idOrName(c);return this.errors().filter(function(){return b(this).attr("for")==f})},idOrName:function(c){return this.groups[c.name]||(this.checkable(c)?c.name:c.id||c.name)},checkable:function(c){return/radio|checkbox/i.test(c.type)},findByName:function(c){var f=this.currentForm;return b(document.getElementsByName(c)).map(function(d,g){return g.form==
f&&g.name==c&&g||null})},getLength:function(c,f){switch(f.nodeName.toLowerCase()){case "select":return b("option:selected",f).length;case "input":if(this.checkable(f))return this.findByName(f.name).filter(":checked").length}return c.length},depend:function(c,f){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,f):true},dependTypes:{"boolean":function(c){return c},string:function(c,f){return!!b(c,f.form).length},"function":function(c,f){return c(f)}},optional:function(c){return!b.validator.methods.required.call(this,
b.trim(c.value),c)&&"dependency-mismatch"},startRequest:function(c){if(!this.pending[c.name]){this.pendingRequest++;this.pending[c.name]=true}},stopRequest:function(c,f){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[c.name];if(f&&this.pendingRequest==0&&this.formSubmitted&&this.form()){b(this.currentForm).submit();this.formSubmitted=false}else if(!f&&this.pendingRequest==0&&this.formSubmitted){b(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=
false}},previousValue:function(c){return b.data(c,"previousValue")||b.data(c,"previousValue",{old:null,valid:true,message:this.defaultMessage(c,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(c,f){c.constructor==String?(this.classRuleSettings[c]=f):b.extend(this.classRuleSettings,
c)},classRules:function(c){var f={};(c=b(c).attr("class"))&&b.each(c.split(" "),function(){this in b.validator.classRuleSettings&&b.extend(f,b.validator.classRuleSettings[this])});return f},attributeRules:function(c){var f={};c=b(c);for(method in b.validator.methods){var d=c.attr(method);if(d)f[method]=d}f.maxlength&&/-1|2147483647|524288/.test(f.maxlength)&&delete f.maxlength;return f},metadataRules:function(c){if(!b.metadata)return{};var f=b.data(c.form,"validator").settings.meta;return f?b(c).metadata()[f]:
b(c).metadata()},staticRules:function(c){var f={},d=b.data(c.form,"validator");if(d.settings.rules)f=b.validator.normalizeRule(d.settings.rules[c.name])||{};return f},normalizeRules:function(c,f){b.each(c,function(d,g){if(g===false)delete c[d];else if(g.param||g.depends){var h=true;switch(typeof g.depends){case "string":h=!!b(g.depends,f.form).length;break;case "function":h=g.depends.call(f,f);break}if(h)c[d]=g.param!==undefined?g.param:true;else delete c[d]}});b.each(c,function(d,g){c[d]=b.isFunction(g)?
g(f):g});b.each(["minlength","maxlength","min","max"],function(){if(c[this])c[this]=Number(c[this])});b.each(["rangelength","range"],function(){if(c[this])c[this]=[Number(c[this][0]),Number(c[this][1])]});if(b.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}c.messages&&delete c.messages;return c},normalizeRule:function(c){if(typeof c=="string"){var f=
{};b.each(c.split(/\s/),function(){f[this]=true});c=f}return c},addMethod:function(c,f,d){b.validator.methods[c]=f;b.validator.messages[c]=d!=undefined?d:b.validator.messages[c];f.length<3&&b.validator.addClassRules(c,b.validator.normalizeRule(c))},methods:{required:function(c,f,d){if(!this.depend(d,f))return"dependency-mismatch";switch(f.nodeName.toLowerCase()){case "select":return(c=b(f).val())&&c.length>0;case "input":if(this.checkable(f))return this.getLength(c,f)>0;default:return b.trim(c).length>
0}},remote:function(c,f,d){if(this.optional(f))return"dependency-mismatch";var g=this.previousValue(f);this.settings.messages[f.name]||(this.settings.messages[f.name]={});g.originalMessage=this.settings.messages[f.name].remote;this.settings.messages[f.name].remote=g.message;d=typeof d=="string"&&{url:d}||d;if(g.old!==c){g.old=c;var h=this;this.startRequest(f);var j={};j[f.name]=c;b.ajax(b.extend(true,{url:d,mode:"abort",port:"validate"+f.name,dataType:"json",data:j,success:function(i){h.settings.messages[f.name].remote=
g.originalMessage;var k=i===true;if(k){var m=h.formSubmitted;h.prepareElement(f);h.formSubmitted=m;h.successList.push(f);h.showErrors()}else{m={};i=g.message=i||h.defaultMessage(f,"remote");m[f.name]=b.isFunction(i)?i(c):i;h.showErrors(m)}g.valid=k;h.stopRequest(f,k)}},d));return"pending"}else if(this.pending[f.name])return"pending";return g.valid},minlength:function(c,f,d){return this.optional(f)||this.getLength(b.trim(c),f)>=d},maxlength:function(c,f,d){return this.optional(f)||this.getLength(b.trim(c),
f)<=d},rangelength:function(c,f,d){c=this.getLength(b.trim(c),f);return this.optional(f)||c>=d[0]&&c<=d[1]},min:function(c,f,d){return this.optional(f)||c>=d},max:function(c,f,d){return this.optional(f)||c<=d},range:function(c,f,d){return this.optional(f)||c>=d[0]&&c<=d[1]},email:function(c,f){return this.optional(f)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(c)},
url:function(c,f){return this.optional(f)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},
date:function(c,f){return this.optional(f)||!/Invalid|NaN/.test(new Date(c))},dateISO:function(c,f){return this.optional(f)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(c)},number:function(c,f){return this.optional(f)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(c)},digits:function(c,f){return this.optional(f)||/^\d+$/.test(c)},creditcard:function(c,f){if(this.optional(f))return"dependency-mismatch";if(/[^0-9-]+/.test(c))return false;var d=f=0,g=false;c=c.replace(/\D/g,"");for(var h=c.length-1;h>=
0;h--){d=c.charAt(h);d=parseInt(d,10);if(g)if((d*=2)>9)d-=9;f+=d;g=!g}return f%10==0},accept:function(c,f,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(f)||c.match(new RegExp(".("+d+")$","i"))},equalTo:function(c,f,d){d=b(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(f).valid()});return c==d.val()}}});b.format=b.validator.format})(jQuery);
(function(b){var c=b.ajax,f={};b.ajax=function(d){d=b.extend(d,b.extend({},b.ajaxSettings,d));var g=d.port;if(d.mode=="abort"){f[g]&&f[g].abort();return f[g]=c.apply(this,arguments)}return c.apply(this,arguments)}})(jQuery);
(function(b){b.each({focus:"focusin",blur:"focusout"},function(c,f){b.event.special[f]={setup:function(){if(b.browser.msie)return false;this.addEventListener(c,b.event.special[f].handler,true)},teardown:function(){if(b.browser.msie)return false;this.removeEventListener(c,b.event.special[f].handler,true)},handler:function(d){arguments[0]=b.event.fix(d);arguments[0].type=f;return b.event.handle.apply(this,arguments)}}});b.extend(b.fn,{delegate:function(c,f,d){return this.bind(c,function(g){var h=b(g.target);
if(h.is(f))return d.apply(h,arguments)})},triggerEvent:function(c,f){return this.triggerHandler(c,[b.event.fix({type:c,target:f})])}})})(jQuery);suckerfish(sfFocus,"input");var magnoliaDNS="adev.nctracks.com",magnoliaCmsUrl="http://"+magnoliaDNS+":8180/magnoliaPublic/dms",showIdSuffix="-details";
$(window).load(function(){var b=0,c="";if($("dt.columnTwo").size()){b++;c+="\n* The classes 'columnTwo' and 'columnThree' are no longer needed; remove them from all <dt> and <dd> tags"}if($("#mainContent > div.panes").size()){b++;c+="\n* Primary tabs now function as regular links and do not need to be enclosed in <div class='panes'>.  Remove this element."}if($("input[type='submit'], input[type='reset'], input[type='button'], button.formBtn").size()){b++;c+="\n* Buttons should be created with the <button> tag instead of the <input> tag and no longer require the 'formBtn' class.\n Example: <button type='submit' class='submitBtn'>Search</button>"}if($("div.tooltip").size()){b++;
c+="\n* <div class='tooltip'> is now generated by JavaScript.  Please remove it from the HTML markup."}if($("img.returnTop[width='6']").size()){b++;c+="\n* The width of the return to top icon has changed from 6 to 12.  Please update the <img> tag."}if($("h6 img[src*='collapse']").size()){b++;c+="\n* The collapse 'plus/minus' icon on the blue header bars is now handled by a CSS background and no longer needs to be included inside the <h6> tag.  Remove the <img>."}if($("ol.pagination").size()){b++;
c+="\n* The pagination style has changed.  Change <div class='numResults'> to <p>, remove the 'pagination' class from the <ol>, and place both elements inside a new <div class='pageResults'>."}if(b>0)c?alert("OUT-OF-DATE PAGE:\n"+c):alert("OUT-OF-DATE PAGE:\n\nThis page contains deprecated markup that needs to be updated.  Please see the Global Change Log on the NCTracks Sandbox or contact the UI Team for more information.");var f=false;$(":password").caps(function(d){if(d){if(!f){$parent=$(this).parent();
$parent.addClass("error");$parent.append("<p id='capslock'>CAPS-LOCK is on</p>");f=true}}else{$parent=$(this).parent();$parent.removeClass("error");$("#capslock").remove();f=false}});$("a.help").bind("click",function(d){d.preventDefault();d=$(this).attr("href").replace("help/Content","");if(d=="Default.htm"||d=="help/Default.htm"||d=="./help/Default.htm")d=null;FMCOpenHelp(d,null,null,null)});$("#old").scroll(function(){$("#new").scrollTop($("#old").scrollTop());$("#new").scrollLeft($("#old").scrollLeft())});
$("#new").scroll(function(){$("#old").scrollTop($("#new").scrollTop());$("#old").scrollLeft($("#new").scrollLeft())});$("#login_btn").bind("click",function(){window.location="../../website/login.html"});b="<div class='dropShadow' id='tileBtm'><div id='cornerLeft'></div><div id='cornerRight'></div></div>";b+="<div id='dropShadowBox'><div class='dropShadow'><div id='tileLeft'></div><div id='tileRight'></div></div></div>";$("#tileBtm").replaceWith(b);$("tr.hasDetail","#mainContent").each(function(){var d=
$(this);d.after("<tr class='rowDetails hidden'><td colspan='"+d.children("td").length+"'></td></tr>")});$(":input:not(tr :input).showDetail, .showDetail :radio","#mainContent").add(":input.hideDetail, .hideDetail :radio","#mainContent").each(function(){$(this).parseElements()});$(".hidden","#mainContent").css("display","none");$("div.hidden, fieldset.hidden","#mainContent").prev("h6").addClass("collapsed");$("tr.editable :input","#mainContent").each(function(){var d=$(this),g=d.is("select")?d.children("option:selected").html():
d.val();d.before("<span>"+g+"</span>")});$("a[href^='http']","#mainContent").after("<img src='"+magnoliaCmsUrl+"/images/icons/new_window.gif' class='offsiteLink' width='12' height='12' alt='off-site link' title='Navigate Away from NCTracks'>");$("a[href$='doc']","#mainContent").after("<img src='"+magnoliaCmsUrl+"/images/icons/page_white_word.png' class='offsiteLink' width='12' height='12' alt='off-site link' title='Microsoft Word file'>");$("a[href$='pdf']","#mainContent").after("<img src='"+magnoliaCmsUrl+
"/images/icons/page_white_acrobat.png' class='offsiteLink' width='12' height='12' alt='off-site link' title='PDF file'>");$("a[href$='txt']","#mainContent").after("<img src='"+magnoliaCmsUrl+"/images/icons/page_white_text.png' class='offsiteLink' width='12' height='12' alt='off-site link' title='plain text file'>");$("a[href$='csv']","#mainContent").after("<img src='"+magnoliaCmsUrl+"/images/icons/page_white_text.png' class='offsiteLink' width='12' height='12' alt='off-site link' title='comma separated value text file'>");
$("a[href$='xls']","#mainContent").after("<img src='"+magnoliaCmsUrl+"/images/icons/page_white_excel.png' class='offsiteLink' width='12' height='12' alt='off-site link' title='Microsoft Excel Spreadsheet'>");$("div.formSection ul.tabs","#mainContent").tabs("div.panes > div",{onClick:function(){resizeShadow()}}).history();if($("ul.tabs:first:not('div.formSection ul.tabs') li:last")[0])if($("ul.tabs:first:not('div.formSection ul.tabs') li:last").offset().top>$("ul.tabs:first").offset().top){b="<div id='scrollableTabs'><ul class='tabs'>"+
$("ul.tabs:first").html()+"</ul></div>";b="<div id='tabPrev'><button type='button' class='prev'></button></div>"+b;b+="<div id='tabNext'><button type='button' class='next'></button></div>";$("ul.tabs:first").replaceWith(b);$("#scrollableTabs").scrollable({size:1,items:"ul.tabs",onSeek:function(){var d=$("ul.tabs:first:not('div.formSection ul.tabs') li:last"),g=$("button.next","#tabNext"),h=$("#mainContent").offset().left+$("#mainContent").outerWidth();lastTabPos=d.offset().left+d.width();lastTabPos<=
h?g.hide():g.show()},onReload:function(){this.getConf().speed=0;this.seekTo($("ul.tabs a").index($("a.current")),0).getConf().speed=200}})}b=$("#requiredLegend img").addClass("requiredIcon").clone();$(":input.required:not(:radio)","#mainContent").getLabel().add($("label.required","#mainContent")).before(b);$(":input.updated:not(:radio)","#mainContent").css("background-color","yellow").css("color","red").getLabel().css("font-weight","bold").css("color","red");$(".hideRequired img.requiredIcon","#mainContent").hide();
$("legend.required","#mainContent").find("span:first").prepend(b);$("legend.required").parent().find(":input").each(function(){$(this).hasClass("required")||$(this).addClass("required")});$("dt.required span:first","#mainContent").prepend(b);b=$("img[src$='audit.png']","#formLegend").addClass("fieldIcon").clone();$(":text.audit, select.audit","#mainContent").add($(":checkbox.audit, :radio.audit","#mainContent").getLabel()).after(b);$("td.audit","#mainContent").append(b);$("img.fieldIcon","#mainContent").wrap("<a href='audit.html' rel='#overlay'></a>");
b=$("img[src$='calendar.png']","#formLegend").addClass("fieldIcon").clone().insertAfter(":input.dateInput","#mainContent");$evenRows=$([]);$oddRows=$([]);$("tbody","#mainContent").each(function(){var d=$(this);$evenRows=$evenRows.add(d.children("tr:not(.emphasizeRow, .rowDetails):even").addClass("even"));$oddRows=$oddRows.add(d.children("tr:not(.emphasizeRow, .rowDetails):odd").addClass("odd"))});$(":input.hint").coolinput({blurClass:"formHint"});if(jQuery().mask){$(":input.dateInput","#mainContent").mask("99/99/9999").coolinput({hint:"mm/dd/yyyy",
blurClass:"formHint"});$(":input.zip","#mainContent").mask("99999?-9999").coolinput({hint:"00000-0000",blurClass:"formHint"});$(":input.ssn","#mainContent").mask("999-99-9999").coolinput({hint:"000-00-0000",blurClass:"formHint"});$(":input.ein","#mainContent").mask("99-9999999").coolinput({hint:"00-0000000",blurClass:"formHint"});$(":input.phone","#mainContent").mask("(999) 999-9999").coolinput({hint:"(000) 000-0000",blurClass:"formHint"})}$("div.crossSelect option[value='']:only-child","#mainContent").remove();
$("tr:not(.showDetail, .hasDetail):has(a), tr:not(.showDetail, .hasDetail):has(:radio)").each(function(){var d=$(this);d.find("a,:input").length<=1&&d.addClass("clickable")});$scalableText=$("*:not(form, #pageTitle, #pageTitle *, .tabs, .tabs *)","#mainContent");$(window).resize(function(){resizeShadow()});$("body").append("<div class='tooltip'></div>");$("textarea[maxlength]","#mainContent").each(function(){var d=$(this);d.after("<div class='charRemain'><span>"+d.attr("maxlength")+"</span> characters remaining</div>")}).bind("keypress",
function(){var d=$(this),g=d.attr("maxlength");d.val().length>=g&&d.val(d.val().substring(0,g))}).bind("keyup",function(){var d=$(this),g=d.attr("maxlength");g-d.val().length>=0&&d.next("div.charRemain").children("span").text(g-d.val().length)});if(jQuery.validator){jQuery.validator.setDefaults({debug:true,onclick:false,onkeyup:false,onfocusout:false,wrapper:"",ignoreTitle:true,focusInvalid:false,ignore:".hidden :input, .hideRequired :input",highlight:function(d,g){window.debug&&alert("required element: "+
d.id);d=$(d);var h=d.parent(),j=d.attr("name"),i=d.closest(".singleQ");if(d.hasClass("oneOrMoreCheck"))h=d.closest("dl").prev("div");else if(i[0])h=d;else d.is(":radio")&&$(":radio[name='"+j+"']").not(":checked").each(function(){getParentType($(this))=="TD"&&$(this).getLabel().addClass(g)});!h.hasClass("crossSelect")&&!d.is(":radio")&&h.addClass(g)},unhighlight:function(d,g){var h=$(d).parent();$(d).getLabel().removeClass(g);h.find("label."+g)[0]||h.removeClass(g)},errorPlacement:function(d,g){g=
$(g);var h=$(d),j=g.closest("dl"),i=g.closest(".singleQ");if(g.hasClass("oneOrMoreCheck"))j.prevAll("div")[0]||h.insertBefore(j).wrap("<div></div>");else if(g.parent("div.crossSelect")[0])$(d).insertBefore(g.parent()).wrap("<div class='error'></div>");else if(i[0])h.appendTo(j.find("dt:last-child"));else if(g.is(":radio"))if(getParentType(g)=="TD"){h.insertAfter(g.closest("fieldset").find("legend.required"));$(this).getLabel().addClass(d)}else h.insertBefore(g).wrap("<div class='error'></div>");else h.appendTo(g.parent());
resizeShadow()},invalidHandler:function(){$("div.error").remove();$("dd.error").removeClass("error")},submitHandler:function(d){d.submit()}});jQuery.validator.addMethod("required",function(d,g){jQuery.validator.messages.required="This field is required.";if($(g).parent("div.crossSelect")[0])return $(g).children("option")[0];else if($(g).is(":radio")){$name=$(g).attr("name");jQuery.validator.messages.required="Please select one of the options.";return $(":input[@name='"+$name+"']:checked").size()}else return d},
jQuery.validator.messages.required);jQuery.validator.addMethod("alphanumeric",function(d,g){g=this.optional(g);return checkOptional(g)||/[a-zA-Z0-9]/.test(d)},"Please enter only numbers or letters");jQuery.validator.addClassRules("numeric",{digits:true});jQuery.validator.addMethod("oneOrMoreCheck",function(d,g){return $(g).closest("dl").find(":checkbox:checked").length},"Please check at least one of the available options.");jQuery.validator.addMethod("alpha",function(d,g){g=this.optional(g);return checkOptional(g)||
/(\D$)/.test(d)},"Please do not enter numbers");jQuery.validator.addMethod("dateInput",function(d,g){g=this.optional(g);return checkOptional(g)||isDate(d)},"Please enter a valid date.");jQuery.validator.addMethod("ssn",function(d,g){g=this.optional(g);return checkOptional(g)||/\d\d\d\-?\d\d\-?\d\d\d\d/.test(d)},"Please enter a valid SSN.");jQuery.validator.addMethod("ein",function(d,g){g=this.optional(g);return checkOptional(g)||/\d\d\-?\d\d\d\d\d\d\d/.test(d)},"Please enter a valid EIN.");jQuery.validator.addMethod("phone",
function(d,g){phone_number=d.replace(/\s+/g,"");d=this.optional(g);return checkOptional(d)||phone_number.length>9&&phone_number.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please enter a valid phone number, including the area code.");jQuery.validator.addMethod("zip",function(d,g){if(d.match(/[^\(\)\_\-\/ x]/)!=null&&!parseInt(d.charAt(6)))d=d.substring(0,5);var h=new RegExp(/(^\d{5}$)|(^\d{5}-\d{4}$)/);g=this.optional(g);return checkOptional(g)||h.test(d)},"Please enter a valid ZIP code.")}$("tr.active").each(function(){$(this).parseElements()});
$(document).click(function(d){d.button==0&&$(d.target).not("select").parseElements()});$(":input","#mainContent").bind("focus, blur",function(){$(this).val()&&$(this).removeClass("formHint")});$("select","#mainContent").change(function(d){d=$(d.target);d.filter(".showDetail").parseElements();var g=d.closest("fieldset");g.hasClass("hideRequired")&&d.val()[0]&&g.removeClass("hideRequired").find("img[src$='icon_required.gif']:hidden").css("display","inline")});$("fieldset.hideRequired :input","#mainContent").keyup(function(){$(this).val()[0]&&
$(this).closest("fieldset").removeClass("hideRequired").find("img[src$='icon_required.gif']:hidden").css("display","inline")});$("select[multiple] option","#mainContent").live("dblclick",function(){var d=$(this),g=d.parent().siblings("select[multiple]");g.append(d).html(g.find("option").sort(sortAlpha))});$(":input.add","#mainContent").keyup(function(){var d=0,g="."+$(this).attr("class").substr(4);$(":input.add","#mainContent").each(function(){d+=Number($(this).val())});$(":input.sum"+g).val(d)});
$("#formLegend div").hover(function(){$("#formLegend ul").slideDown("fast")},function(){$("#formLegend ul").slideUp("fast")});if($(":input.dateInput","#mainContent")){Date.format="mm/dd/yyyy";$(":input.dateInput","#mainContent").datePicker({horizontalOffset:-13,verticalOffset:19,startDate:"02/27/1892",clickInput:true,createButton:false,showYearNavigation:true}).bind("focus",function(d,g){if(g==$.dpConst.DP_INTERNAL_FOCUS)return true;var h=this,j=$(this);j.dpDisplay();$("*").bind("focus.datePicker",
function(){var i=$(this);if(!i.is(".dp-applied"))if(i.parents("#dp-popup").length==0&&this!=h&&!($.browser.msie&&this==document.body)){$("*").unbind("focus.datePicker");j.dpClose()}});return false}).bind("dpClosed",function(){$("*").unbind("focus.datePicker")})}$("a[rel]",".dataTable").overlay({expose:"#315B7C",effect:"apple",closeOnClick:false,onLoad:function(){var d=this.getTrigger().attr("rel");$(d+" div.wrap");this.getTrigger().attr("href");resizeShadow()},onBeforeLoad:function(){var d=this.getTrigger().attr("rel"),
g=$(d+" div.wrap");d=this.getTrigger().attr("href");g.html('<p><img src="../images/ajax-loader.gif" /></p><hr /><h2>Loading...</h2>');$.ajaxSettings.cache=false;g.load(d,function(h,j,i){j=="error"&&g.html("<div class='error'><ul><li>Sorry but there was an error: "+i.status+" "+i.statusText+"</li></ul></div>")})}});$("a[rel]","#mainContent").overlay({expose:"#315B7C",effect:"apple",onLoad:function(){var d=this.getTrigger().attr("rel");d=$(d+" div.wrap");if(d.html()){var g=this.getTrigger().attr("href").split("#")[1];
if($("div.wrap a[name="+g+"]").size()){g=$("div.wrap a[name="+g+"]").position().top-60;d.animate({scrollTop:g},500)}}},onBeforeLoad:function(){var d=this.getTrigger().attr("rel"),g=$(d+" div.wrap");d=this.getTrigger().attr("href");g.html('<p><img src="../images/ajax-loader.gif" /></p><hr /><h2>Loading help...</h2>');$.ajaxSettings.cache=false;g.load(d,function(h,j,i){j=="error"&&g.html("<div class='error'><ul><li>Sorry but there was an error: "+i.status+" "+i.statusText+"</li></ul></div>")})}});$(".tip").tooltip({position:"top center",
tip:".tooltip",offset:[-7,0],predelay:300,delay:150,effect:"fade",fadeInSpeed:200,fadeOutSpeed:200}).dynamic({});resizeShadow();$("form","#mainContent").hasClass("noFirstFocus")||$(":input:not('button'):visible:enabled:first","#mainContent").focus()});jQuery.fn.getLabel=function(){var b=$([]);$(this).each(function(){b=b.add($("label:not('.hideLabel')[for='"+$(this).attr("id")+"']","#mainContent"))});return b};
jQuery.fn.getElemFromClass=function(){var b=$(this).attr("class");if(b){b=b.split(" ");var c=new Array(1);c[0]=[];c[1]=[];$(b).each(function(){if(this.indexOf("-")>=0){var f=this.split("-");c[0].push(f[2]);c[1].push(f[1])}})}return c};function getIdFromIndex(b,c){for(var f=[],d=0;d<c[0].length;d++)b==c[0][d]&&f.push(c[1][d]);return f}
function loopShowHide(b,c){b=getIdFromIndex(b,c);for(var f=0;f<c[0].length;f++){var d="#"+c[1][f]+showIdSuffix,g=$(b).index(c[1][f])>=0?false:true;$(d).showHideFields(g)}return false}
jQuery.fn.parseElements=function(){var b=$(this),c=b.parent(),f=b.parents(g),d=b.closest("tr"),g="fieldset",h=c.prev("select[multiple]"),j=c.next("select[multiple]");f.hasClass("hideRequired")&&b.val()[0]&&f.removeClass("hideRequired").find("img[src$='icon_required.gif']:hidden").css("display","inline");switch(true){case b.is("button[type='submit']:not('#prevBtn,.noValidate,.ajaxSave,.ajaxSearch,.fancySubmit')"):d=b.attr("name")?b.attr("name"):"NAME";if(d!=undefined)if(c=document.getElementById("submitBtnName"))c.name=
d;else b.closest("form").prepend('<input type="hidden" id="submitBtnName" name="'+d+'" value="..." />');d=$("form","#mainContent");if(b.closest(".validateGroup")[0]){b=b.closest(".validateGroup").find(":input");$elemNoValidate=$(":input.required").not(b).removeClass("required");var i=d.bind("invalid-form.validate",function(){$("#validationError").remove();$(".formSection:first").before('<div id="validationError" class="errorDiv"><ul><li>Your form contains '+i.numberOfInvalids()+" errors, see details below.</li></ul></div>")}).validate({invalidHandler:function(){$elemNoValidate.addClass("required")}})}else i=
d.bind("invalid-form.validate",function(){$("#validationError").remove();$(".formSection:first").before('<div id="validationError" class="errorDiv"><ul><li>Your form contains '+i.numberOfInvalids()+" errors, see details below.</li></ul></div>")}).validate();$isValid=d.valid();if(!$isValid){var k=$(".error:first","#mainContent").find(":input:first");$offset=k.offsetTop();$("html").animate({scrollTop:$offset-50},{easing:"swing",duration:1800,complete:function(){k.focus()}})}break;case c.is("#increaseFont, #decreaseFont"):b=
$scalableText.css("font-size");b=parseFloat(b,10);b=c.attr("id")=="increaseFont"?b+3:b-3;$scalableText.css("font-size",b);resizeShadow();break;case b.is(g+" h6"):b.toggleClass("collapsed").next("div, "+g).slideToggle("medium",function(){resizeShadow()});break;case b.is("select.showDetail"):d=b.children("option").index(b.children("option:selected"));b=b.getElemFromClass();loopShowHide(d,b);break;case b.is(".showDetail :radio:checked"):d=b.closest(".showDetail");b=d.getElemFromClass();d=d.find(":radio").index(this);
loopShowHide(d,b);break;case b.is(":checkbox.showDetail"):b=b.getElemFromClass();var m="#"+b[1]+showIdSuffix,n=!$(":checkbox.show-"+b[1],"#mainContent").is(":checked")?1:0;$(m).showHideFields(n);break;case b.is(":checkbox.hideDetail"):b=b.getElemFromClass();m="#"+b[1]+showIdSuffix;n=$(this).is(":checked")?1:0;$(m).showHideFields(n);break;case $(this).closest("tr.showDetail")[0]&&b.is(":not(a)"):d=b.closest("tr");b=d.getElemFromClass();if(d.next("tr.rowDetails").find("div").is(":visible"))n=1;m="#"+
b[1]+showIdSuffix;$(m).showHideFields(n);break;case b.hasClass("fieldIcon"):b.prev("input").filter(".dateInput").focus().dpDisplay();break;case d.hasClass("clickable"):b=d.find("a:first");if(b[0])window.location=b.attr("href");else d.find(":radio:first").attr("checked","checked");break;case d.hasClass("editable"):if(!d.hasClass("dimmed")){d.removeClass("editable").children("td:first").html($("#formLegend ul img[src$='table_edit.png']").clone());d.addClass("emphasizeRow").find("span").hide();d.find(":input").show();
d.siblings("tr.editable, tr.edited, tr.deleted").removeClass("odd even").addClass("dimmed").find("img.fieldIcon:visible").hide();n="<tr class='editBtns'><td colspan='"+d.children("td").length+"'><div class='roundedBottom'></div></td></tr>";if(d.hasClass("hasDetail")){f=d.find(":input.showDetail");c=d.next("tr.rowDetails");g=c.children("td");b=f[0]?f.getElemFromClass():d.getElemFromClass();b="#"+b[1]+showIdSuffix;g.html()||g.html($(b));f.is(":checked")||!f[0]?d.next("tr").find(b).showHideFields():
d.next("tr").find(b).hide();c.after(n)}else d.after(n);b="update";c="delete";if(d.attr("id")){b+="-"+d.attr("id");c+="-"+d.attr("id")}d.hasClass("readonly")?d.siblings("tr.editBtns").find("div").html('<button type="button" class="submitBtn rowCancel">Close</button>'):d.siblings("tr.editBtns").find("div").html('<button type="button" class="rowUpdate submitBtn" id="'+b+'">Update</button><button type="button" class="rowCancel">Cancel</button><button type="button" class="rowDelete" id="'+c+'">Delete</button>');
resizeShadow()}break;case b.is("button.boxUpdate"):n=b.closest("form").attr("action");c=b.closest("fieldset");submitAjaxData("update",n,c);break;case b.is("button.fancySubmit"):d=b.html();if($valid=$("form","#mainContent").valid()){b.html("Please wait...");b.attr("disabled",true);b.parent().prepend('<div class="info"><h1>Please wait...</h1><img style="float:left;padding:10px" src="http://sandbox.nctracks.com/mockups/images/ajax-loader.gif" alt="loading..." /><h2>We are processing your request.</h2><p>Please do not close your browser or reload the page.</p></div>');
b.closest("form").submit()}else{b.html(d);b.attr("disabled",false)}break;case b.is("button.ajaxSave"):logData("ajaxSave",b);n=b.closest("form").attr("action");logData("got parentFormAction",n);c=b.closest("form");logData("got parent",c);submitAjaxData("save",n,c);logData("submitAjaxData",1);break;case b.is("button.boxDelete"):n=b.closest("form").attr("action");c=b.closest("fieldset");submitAjaxData("delete",n,c);break;case b.is("button.rowUpdate"):n=b.closest("form").attr("action");d=d.prevAll("tr.emphasizeRow");
d.addClass("edited").removeClass("emphasizeRow").find("td:first").html($("#formLegend ul img[src$='pencil.png']").clone());d.find("span").show();d.find(":input").hide();b.closest("tr.editBtns").remove();if(d.is(".hasDetail, .showDetail")){c=d.next("tr.rowDetails");c.find("div:first").showHideFields(1)}d.siblings("tr.dimmed").removeClass("dimmed");d.siblings("tr.editable, tr.edited, tr.deleted").find("img.fieldIcon[src$='audit.png']").show();d.find(":input.dateInput + img.fieldIcon").hide();$evenRows.addClass("even");
$oddRows.addClass("odd");break;case b.is("button.rowCancel"):d=d.prevAll("tr.emphasizeRow");d.removeClass("emphasizeRow").find("td:first").empty();d.find("span").show();d.find(":input").hide();b.closest("tr.editBtns").remove();if(d.is(".hasDetail, .showDetail")){c=d.next("tr.rowDetails");c.find("div:first").showHideFields(1)}d.siblings("tr.dimmed").removeClass("dimmed");d.siblings("tr.editable, tr.edited, tr.deleted").find("img.fieldIcon[src$='audit.png']").show();$evenRows.addClass("even");$oddRows.addClass("odd");
d.addClass("editable");resizeShadow();break;case b.is("button.rowDelete"):if(!window.useLocalDelete){n=b.closest("form").attr("action");if(confirm("Delete row?")){d=d.prevAll("tr.emphasizeRow");d.addClass("deleted").removeClass("emphasizeRow").find("td:first").html($("#formLegend ul img[src$='delete.png']").clone());d.find("span").show();d.find(":input").hide();b.closest("tr.editBtns").remove();if(d.is(".hasDetail, .showDetail")){c=d.next("tr.rowDetails");c.find("div:first").showHideFields(1)}d.siblings("tr.dimmed").removeClass("dimmed");
d.siblings("tr.editable, tr.edited, tr.deleted").find("img.fieldIcon[src$='audit.png']").show();d.find(":input.dateInput + img.fieldIcon").hide();$evenRows.addClass("even");$oddRows.addClass("odd");submitAjaxData("delete",n,d)}}resizeShadow();break;case b.hasClass("disable"):d=$(this).getElemFromClass();d=$("#"+d[1]);b.is(":checked")?d.attr("readonly","readonly").addClass("disabled"):d.removeAttr("readonly").removeClass("disabled");break;case b.hasClass("crossAdd"):j.append(h.find("option:selected")).html(j.find("option").sort(sortAlpha));
break;case b.hasClass("crossAddAll"):j.append(h.find("option")).html(j.find("option").sort(sortAlpha));break;case b.hasClass("crossRemove"):h.append(j.find("option:selected")).html(h.find("option").sort(sortAlpha));break;case b.hasClass("crossRemoveAll"):h.append(j.find("option")).html(h.find("option").sort(sortAlpha));break;case b.is("button.rowAdd"):n=b.closest("form").attr("action");b=b.closest("form").find("tr.rowAdd");submitAjaxData("add",n,b);break;case b.is("button.addBox"):n=b.closest("form").attr("action");
c=b.closest("fieldset");submitAjaxData("add",n,c);break;case b.is("button.linkBtn"):window.location=$(this).find("a").attr("href");break;case b.is("button.ajax"):case b.is("button.ajaxSearch"):if(isValid=true){$("#searchResultsTable").closest("fieldset").removeClass("hidden").show();d=b.attr("class").split(" ");$(d).each(function(){if(this.indexOf("-")>=0)m=this.split("-")[1]});$("#"+m+" thead th").each(function(){var v=$(this).attr("id");dataColsArray.push(v);$("#"+v).show()});d=$(this).closest("form").attr("action");
b.closest("form").find(":checked").each(function(){eval("jsonParameters."+this.name+"='"+$(this).val()+"'")}).end().find("select, :text").each(function(){eval("jsonParameters."+this.name+"='"+$(this).val()+"'")});doAjaxSearch(m,d,{})}break;case b.is(":checkbox#noSSN"):$ssn=c.parent().find("input[type='text'].ssn");b.is(":checked")?$ssn.val("000-00-0000").attr("disabled",true).css({color:"white"}):$ssn.val("").removeAttr("disabled").css({color:"black"});break}};
jQuery.fn.showHideFields=function(b){var c=$(this);if(b&c.is(":visible"))c.addClass("hidden").slideUp("fast",function(){c.parents().prev("tr.showDetail, tr.hasDetail").next("tr.rowDetails").hide();resizeShadow()});else if(!b){c.removeClass("hidden");if(!c.is(":visible")){c.parents("tr.rowDetails").show();c.slideDown("fast",function(){resizeShadow()})}}};function resizeShadow(){var b=$("#tileBtm").offset().top-$("#dropShadowBox div.dropShadow").offset().top;$("#tileLeft, #tileRight").height(b)}
function sortAlpha(b,c){return b.innerHTML>c.innerHTML?1:-1}
function isDate(b){Date.format="mm/dd/yyyy";var c=new Date,f=Date.fromString(b),d=c.getFullYear()-150;c=c.getFullYear()+150;var g=b.indexOf("/"),h=b.indexOf("/",g+1),j=b.substring(0,g);g=b.substring(g+1,h);b=b.substring(h+1);if(f){if(j<1||j>12){dateErrMsg="Please enter a valid month.";return false}if(g<1||g>f.getDaysInMonth()){dateErrMsg="Please enter a valid day.";return false}if(b<d||b>c){dateErrMsg="Please enter a valid year between "+d+" and "+c+".";return false}return true}else return false}
function getParentType(b){return $(b).parent().get(0).tagName}function checkOptional(b){return b=="dependency-mismatch"}jQuery.fn.offsetTop=function(){var b=this.get(0);if(!b.offsetParent)return b.offsetTop;return b.offsetTop+$(b.offsetParent).offsetTop()};jQuery.fn.addRequired=function(){$(this).attr("disabled",false);var b=$("#requiredLegend img").addClass("requiredIcon").clone();$(this).removeRequired();$(this).getLabel().before(b)};
jQuery.fn.removeRequired=function(b){b&&b.disable&&$(this).attr("disabled",true);$(this).getLabel().parent().find("img.requiredIcon").remove()};
jQuery.fn.calculate=function(b){var c=b.tagClass,f="#"+b.totalTarget;switch(b.method){case "add":var d=0;$("input."+c).each(function(){var h=0;if($(this).val())h=$(this).val();d+=parseInt(h)});$(f).val(d);break;case "subtract":var g=[];$("input."+c).each(function(){var h=0;if($(this).val())h=$(this).val();g.push(h)});g.sort(function(h,j){return j-h});d=Math.max.apply(Math,g);g.splice(0,1);$(g).each(function(){d-=parseInt(this)});$(f).val(d);break}};
jQuery.fn.caps=function(b){if(!jQuery.browser.safari)return this.keypress(function(c){var f=c.which?c.which:c.keyCode?c.keyCode:-1;c=c.shiftKey?c.shiftKey:c.modifiers?!!(c.modifiers&4):false;b.call(this,f>=65&&f<=90&&!c||f>=97&&f<=122&&c)})};
